{"version":3,"sources":["constants.js","services/localStorageApi.js","store/auth/types.js","store/auth/reducer.js","store/books/types.js","store/books/reducer.js","store/cart/types.js","store/cart/reducer.js","store/rootReducer.js","services/service.js","store/auth/actions.js","store/auth/saga.js","store/books/actions.js","store/books/saga.js","store/rootSaga.js","store/index.js","components/BookItem/index.js","components/BookItem/BookItem.jsx","components/FilterDropdown/FilterDropdown.jsx","components/FilterDropdown/index.js","containers/Header/index.js","containers/Header/Header.jsx","components/Loader/index.js","components/Loader/Loader.jsx","components/Search/Search.jsx","components/Search/index.js","containers/BookCatalog/index.js","containers/BookCatalog/BookCatalog.jsx","containers/BookDetails/index.js","containers/BookDetails/BookDetails.jsx","store/cart/actions.js","containers/Cart/index.js","containers/Cart/Cart.jsx","containers/Login/index.js","containers/Login/Login.jsx","assets/images/user-image.png","assets/images/gandalf.png","components/NotFound/index.js","components/NotFound/NotFound.jsx","components/ProtectedRoute/ProtectedRoute.jsx","components/ProtectedRoute/index.js","App.jsx","index.jsx"],"names":["USER_STORAGE_KEY","setUserData","user","localStorage","setItem","JSON","stringify","deleteUserData","removeItem","LOG_IN","LOG_IN_SUCCESS","LOG_IN_FAILURE","LOG_OUT","userData","parse","getItem","initialState","token","username","avatar","isLoading","error","reducer","state","action","type","payload","LOAD_ALL_BOOKS","LOAD_ALL_BOOKS_FAILURE","LOAD_ALL_BOOKS_SUCCESS","LOAD_BOOK","LOAD_BOOK_FAILURE","LOAD_BOOK_SUCCESS","SET_BOOKS_SEARCH","SET_BOOKS_FILTER","data","search","filter","openedBook","ADD_BOOK_TO_CART","totalPrice","totalCount","find","book","id","map","count","Number","toFixed","rootReducer","combineReducers","auth","authReducer","books","booksReducer","cart","cartReducer","service","logIn","a","sendHttpRequest","method","entity","signInEntity","getAllBooks","booksEntity","getBook","Service","instance","this","url","purchaseEntity","fetch","body","headers","Authorization","response","json","parsedResponse","ok","message","status","Error","Object","freeze","logInSuccess","logInFailure","logInWorker","logOutWorker","call","authData","put","loadAllBooksSuccess","loadBookSuccess","loadBookFailure","loadAllBooksWorker","loadBookWorker","select","rootSaga","takeEvery","configureStore","sagaMiddleware","createSagaMiddleware","store","createStore","compose","applyMiddleware","window","__REDUX_DEVTOOLS_EXTENSION__","f","run","BookItem","bookData","Card","className","Img","variant","src","cover","alt","Body","Title","title","Subtitle","author","Footer","price","to","Button","size","FilterDropdown","value","onChange","Form","Label","Control","as","e","target","React","memo","Header","dispatch","useDispatch","useSelector","cartCount","onClick","Loader","Spinner","animation","Search","defaultValue","onSearch","useState","setValue","onSubmit","preventDefault","InputGroup","Prepend","FormControl","placeholder","BookCatalog","loadingBooks","searchText","filterValue","useEffect","length","booksData","useCallback","toLowerCase","trim","onFilter","borderValues","split","filterBooks","includes","searchBooks","BookDetails","useParams","loadingBook","countValue","setCountValue","setTotalPrice","isSuccessTextShown","setIsSuccessTextShown","tags","description","tag","charAt","toUpperCase","slice","join","setTimeout","Group","Row","column","xs","Col","numericValue","isCountValid","min","Text","disabled","Cart","cartItems","totalOrderPrice","Table","striped","bordered","hover","item","Login","setUsername","validationError","setValidationError","isUserNameValid","string","inputValue","NotFound","notFoundImage","ProtectedRoute","Component","component","exact","path","defaultProps","App","basename","process","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.8d614e7b.chunk.js","sourcesContent":["export const SERVER_URL = 'https://js-band-store-api.glitch.me';\nexport const USER_STORAGE_KEY = 'currentUser';\nexport const MIN_USERNAME_LENGTH = 4;\nexport const MAX_USERNAME_LENGTH = 16;\n","import { USER_STORAGE_KEY } from '../constants';\n\nexport const getUserData = () => JSON.parse(localStorage.getItem(USER_STORAGE_KEY));\nexport const setUserData = (user) => localStorage.setItem(USER_STORAGE_KEY, JSON.stringify(user));\nexport const deleteUserData = () => localStorage.removeItem(USER_STORAGE_KEY);\n","export const LOG_IN = 'LOG_IN';\nexport const LOG_IN_SUCCESS = 'LOG_IN_SUCCESS';\nexport const LOG_IN_FAILURE = 'LOG_IN_FAILURE';\nexport const LOG_OUT = 'LOG_OUT';\n","import { getUserData } from '../../services/localStorageApi';\nimport {\n  LOG_IN,\n  LOG_IN_SUCCESS,\n  LOG_IN_FAILURE,\n  LOG_OUT,\n} from './types';\n\nconst userData = getUserData();\n\nconst initialState = userData\n  ? {\n    token: userData.token,\n    username: userData.username,\n    avatar: userData.avatar,\n    isLoading: false,\n    error: '',\n  }\n  : {\n    token: '',\n    username: '',\n    avatar: '',\n    isLoading: false,\n    error: '',\n  };\n\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case LOG_IN:\n      return {\n        ...state,\n        isLoading: true,\n        error: '',\n      };\n\n    case LOG_IN_SUCCESS:\n      return {\n        ...state,\n        ...action.payload,\n        isLoading: false,\n        error: '',\n      };\n\n    case LOG_IN_FAILURE:\n      return {\n        ...state,\n        isLoading: false,\n        error: action.payload,\n      };\n\n    case LOG_OUT:\n      return {\n        ...state,\n        token: '',\n        username: '',\n        avatar: '',\n      };\n\n    default: return state;\n  }\n};\n\nexport default reducer;\n","export const LOAD_ALL_BOOKS = 'LOAD_ALL_BOOKS';\nexport const LOAD_ALL_BOOKS_FAILURE = 'LOAD_ALL_BOOKS_FAILURE';\nexport const LOAD_ALL_BOOKS_SUCCESS = 'LOAD_ALL_BOOKS_SUCCESS';\nexport const LOAD_BOOK = 'LOAD_BOOK';\nexport const LOAD_BOOK_FAILURE = 'LOAD_BOOK_FAILURE';\nexport const LOAD_BOOK_SUCCESS = 'LOAD_BOOK_SUCCESS';\nexport const SET_BOOKS_SEARCH = 'SET_BOOKS_SEARCH';\nexport const SET_BOOKS_FILTER = 'SET_BOOKS_FILTER';\n","import {\n  LOAD_ALL_BOOKS,\n  LOAD_ALL_BOOKS_SUCCESS,\n  LOAD_ALL_BOOKS_FAILURE,\n  LOAD_BOOK,\n  LOAD_BOOK_SUCCESS,\n  LOAD_BOOK_FAILURE,\n  SET_BOOKS_FILTER,\n  SET_BOOKS_SEARCH,\n} from './types';\nimport { LOG_OUT } from '../auth/types';\n\nconst initialState = {\n  data: [],\n  isLoading: false,\n  error: '',\n  search: '',\n  filter: 'All',\n  openedBook: {\n    data: {},\n    isLoading: false,\n    error: '',\n  },\n};\n\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case LOAD_ALL_BOOKS:\n      return {\n        ...state,\n        isLoading: true,\n        error: '',\n      };\n\n    case LOAD_ALL_BOOKS_SUCCESS:\n      return {\n        ...state,\n        data: action.payload,\n        isLoading: false,\n        error: '',\n      };\n\n    case LOAD_ALL_BOOKS_FAILURE:\n      return {\n        ...state,\n        data: [],\n        isLoading: false,\n        error: action.payload,\n      };\n\n    case LOAD_BOOK:\n      return {\n        ...state,\n        openedBook: {\n          ...state.openedBook,\n          data: [],\n          isLoading: true,\n          error: '',\n        },\n      };\n\n    case LOAD_BOOK_SUCCESS:\n      return {\n        ...state,\n        openedBook: {\n          data: action.payload,\n          isLoading: false,\n          error: '',\n        },\n      };\n\n    case LOAD_BOOK_FAILURE:\n      return {\n        ...state,\n        openedBook: {\n          data: [],\n          isLoading: false,\n          error: action.payload,\n        },\n      };\n\n    case SET_BOOKS_SEARCH:\n      return {\n        ...state,\n        search: action.payload,\n      };\n\n    case SET_BOOKS_FILTER:\n      return {\n        ...state,\n        filter: action.payload,\n      };\n\n    case LOG_OUT:\n      return initialState;\n\n    default: return state;\n  }\n};\n\nexport default reducer;\n","// eslint-disable-next-line import/prefer-default-export\r\nexport const ADD_BOOK_TO_CART = 'ADD_BOOK_TO_CART';\r\n","import { ADD_BOOK_TO_CART } from './types';\r\n\r\nconst initialState = {\r\n  data: [],\r\n  totalPrice: 0,\r\n  totalCount: 0,\r\n};\r\n\r\nconst reducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ADD_BOOK_TO_CART:\r\n      // eslint-disable-next-line no-case-declarations\r\n      let data;\r\n\r\n      if (state.data.find((book) => book.id === action.payload.id)) {\r\n        data = state.data.map((book) => (\r\n          action.payload.id === book.id\r\n            ? {\r\n              ...book,\r\n              count: book.count + action.payload.count,\r\n              totalPrice: Number((book.totalPrice + action.payload.totalPrice).toFixed(2)),\r\n            }\r\n            : book\r\n        ));\r\n      } else {\r\n        data = [...state.data, action.payload];\r\n      }\r\n\r\n      return {\r\n        ...state,\r\n        data,\r\n        totalPrice: Number((state.totalPrice + action.payload.totalPrice).toFixed(2)),\r\n        totalCount: state.totalCount + action.payload.count,\r\n      };\r\n\r\n    default: return state;\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n","import { combineReducers } from 'redux';\r\nimport authReducer from './auth/reducer';\r\nimport booksReducer from './books/reducer';\r\nimport cartReducer from './cart/reducer';\r\n\r\nconst rootReducer = combineReducers({\r\n  auth: authReducer,\r\n  books: booksReducer,\r\n  cart: cartReducer,\r\n});\r\n\r\nexport default rootReducer;\r\n","import { SERVER_URL } from '../constants';\n\nclass Service {\n  constructor() {\n    if (!Service.instance) {\n      this.url = SERVER_URL;\n      this.booksEntity = 'books';\n      this.purchaseEntity = 'purchase';\n      this.signInEntity = 'signin';\n      Service.instance = this;\n    }\n\n    return Service.instance;\n  }\n\n  async sendHttpRequest({\n    method,\n    entity,\n    data,\n    token,\n  }) {\n    const response = await fetch(`${this.url}/${entity}`, {\n      method,\n      body: JSON.stringify(data),\n      headers: token\n        ? { 'Content-Type': 'application/json', Authorization: `Bearer ${token}` }\n        : { 'Content-Type': 'application/json' },\n    });\n\n    const parsedResponse = await response.json();\n\n    if (!response.ok) {\n      const message = `${response.status}. ${parsedResponse.message}`;\n      throw new Error(message);\n    }\n\n    return parsedResponse;\n  }\n\n  logIn = async (username) => this.sendHttpRequest({\n    method: 'POST',\n    entity: this.signInEntity,\n    data: { username },\n  });\n\n  getAllBooks = async (token) => this.sendHttpRequest({\n    method: 'GET',\n    entity: this.booksEntity,\n    token,\n  });\n\n  getBook = async (id, token) => this.sendHttpRequest({\n    method: 'GET',\n    entity: `${this.booksEntity}/${id}`,\n    token,\n  });\n}\n\nconst service = new Service();\nObject.freeze(service);\nexport default service;\n","import {\n  LOG_IN,\n  LOG_IN_SUCCESS,\n  LOG_IN_FAILURE,\n  LOG_OUT,\n} from './types';\n\nexport const logIn = (payload) => ({ type: LOG_IN, payload });\nexport const logInSuccess = (payload) => ({ type: LOG_IN_SUCCESS, payload });\nexport const logInFailure = (payload) => ({ type: LOG_IN_FAILURE, payload });\nexport const logOut = () => ({ type: LOG_OUT });\n","import { call, put } from 'redux-saga/effects';\nimport service from '../../services/service';\nimport { deleteUserData, setUserData } from '../../services/localStorageApi';\nimport { logInSuccess, logInFailure } from './actions';\n\nexport function* logInWorker({ payload }) {\n  let authData;\n\n  try {\n    authData = yield call(service.logIn, payload);\n  } catch (err) {\n    yield put(logInFailure(err.message));\n    return;\n  }\n\n  yield put(logInSuccess(authData));\n  yield call(setUserData, authData);\n}\n\nexport function* logOutWorker() {\n  yield call(deleteUserData);\n}\n","import {\n  LOAD_ALL_BOOKS,\n  LOAD_ALL_BOOKS_FAILURE,\n  LOAD_ALL_BOOKS_SUCCESS,\n  LOAD_BOOK,\n  LOAD_BOOK_FAILURE,\n  LOAD_BOOK_SUCCESS,\n  SET_BOOKS_SEARCH,\n  SET_BOOKS_FILTER,\n} from './types';\n\nexport const loadAllBooks = () => ({ type: LOAD_ALL_BOOKS });\nexport const loadAllBooksSuccess = (payload) => ({ type: LOAD_ALL_BOOKS_SUCCESS, payload });\nexport const loadAllBooksFailure = (payload) => ({ type: LOAD_ALL_BOOKS_FAILURE, payload });\nexport const loadBook = (payload) => ({ type: LOAD_BOOK, payload });\nexport const loadBookSuccess = (payload) => ({ type: LOAD_BOOK_SUCCESS, payload });\nexport const loadBookFailure = (payload) => ({ type: LOAD_BOOK_FAILURE, payload });\nexport const setBooksSearch = (payload) => ({ type: SET_BOOKS_SEARCH, payload });\nexport const setBooksFilter = (payload) => ({ type: SET_BOOKS_FILTER, payload });\n","import { call, put, select } from 'redux-saga/effects';\nimport service from '../../services/service';\nimport {\n  loadAllBooksSuccess,\n  loadAllBooksFailure,\n  loadBookSuccess,\n  loadBookFailure,\n} from './actions';\n\nexport function* loadAllBooksWorker() {\n  let books;\n  const { auth } = yield select();\n\n  try {\n    books = yield call(service.getAllBooks, auth.token);\n  } catch (err) {\n    yield put(loadAllBooksFailure(err.message));\n    return;\n  }\n\n  yield put(loadAllBooksSuccess(books));\n}\n\nexport function* loadBookWorker({ payload }) {\n  let book;\n  const { auth } = yield select();\n\n  try {\n    book = yield call(service.getBook, payload, auth.token);\n  } catch (err) {\n    yield put(loadBookFailure(err.message));\n    return;\n  }\n\n  yield put(loadBookSuccess(book));\n}\n","import { takeEvery } from 'redux-saga/effects';\nimport { logInWorker, logOutWorker } from './auth/saga';\nimport { loadAllBooksWorker, loadBookWorker } from './books/saga';\nimport { LOG_IN, LOG_OUT } from './auth/types';\nimport { LOAD_ALL_BOOKS, LOAD_BOOK } from './books/types';\n\nfunction* rootSaga() {\n  yield takeEvery(LOG_IN, logInWorker);\n  yield takeEvery(LOAD_ALL_BOOKS, loadAllBooksWorker);\n  yield takeEvery(LOAD_BOOK, loadBookWorker);\n  yield takeEvery(LOG_OUT, logOutWorker);\n}\n\nexport default rootSaga;\n","/* eslint-disable no-underscore-dangle */\nimport {\n  createStore,\n  applyMiddleware,\n  compose,\n} from 'redux';\nimport createSagaMiddleware from 'redux-saga';\nimport rootReducer from './rootReducer';\nimport rootSaga from './rootSaga';\n\nconst configureStore = () => {\n  const sagaMiddleware = createSagaMiddleware();\n  const store = createStore(\n    rootReducer,\n    compose(\n      applyMiddleware(sagaMiddleware),\n      window.__REDUX_DEVTOOLS_EXTENSION__\n        ? window.__REDUX_DEVTOOLS_EXTENSION__()\n        : (f) => f,\n    ),\n  );\n\n  sagaMiddleware.run(rootSaga);\n  return store;\n};\n\nexport default configureStore();\n","import BookItem from './BookItem';\n\nexport default BookItem;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { Card, Button } from 'react-bootstrap';\nimport PropTypes from 'prop-types';\nimport './styles.scss';\n\nconst BookItem = ({ bookData }) => (\n  <Card className=\"book-card\">\n    <Card.Img className=\"book-card__image\" variant=\"top\" src={bookData.cover} alt=\"book cover\" />\n    <Card.Body className=\"book-card__body\">\n      <Card.Title>{bookData.title}</Card.Title>\n      <Card.Subtitle className=\"mb-2 text-muted\">{bookData.author}</Card.Subtitle>\n    </Card.Body>\n    <Card.Footer className=\"book-card__footer\">\n      {/* eslint-disable-next-line react/jsx-one-expression-per-line */}\n      <p className=\"m-0\">{bookData.price}$</p>\n      <Link to={`/catalog/${bookData.id}`}>\n        <Button variant=\"outline-secondary\" size=\"sm\">View</Button>\n      </Link>\n    </Card.Footer>\n  </Card>\n);\n\nBookItem.propTypes = {\n  bookData: PropTypes.shape({\n    id: PropTypes.string,\n    title: PropTypes.string,\n    author: PropTypes.string,\n    level: PropTypes.string,\n    description: PropTypes.string,\n    cover: PropTypes.string,\n    tags: PropTypes.arrayOf(PropTypes.string),\n    price: PropTypes.number,\n    count: PropTypes.number,\n  }).isRequired,\n};\n\nexport default BookItem;\n","import React from 'react';\nimport { Form } from 'react-bootstrap';\nimport PropTypes from 'prop-types';\nimport './styles.scss';\n\nconst FilterDropdown = ({ value, onChange }) => (\n  <div className=\"filter\">\n    <Form.Label className=\"mb-0 mr-3\">Price:</Form.Label>\n    <Form.Control className=\"filter__dropdown\" as=\"select\" value={value} onChange={(e) => onChange(e.target.value)}>\n      <option value=\"All\">All</option>\n      <option value=\"0-25\">0-25$</option>\n      <option value=\"25-50\">25-50$</option>\n      <option value=\"50\">50+$</option>\n    </Form.Control>\n  </div>\n);\n\nFilterDropdown.propTypes = {\n  onChange: PropTypes.func.isRequired,\n  value: PropTypes.string.isRequired,\n};\n\nexport default React.memo(FilterDropdown);\n","import FilterDropdown from './FilterDropdown';\n\nexport default FilterDropdown;\n","import Header from './Header';\n\nexport default Header;\n","import React from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { Button } from 'react-bootstrap';\r\nimport { CartFill as CartIcon } from 'react-bootstrap-icons';\r\nimport { logOut } from '../../store/auth/actions';\r\nimport './styles.scss';\r\n\r\nconst Header = () => {\r\n  const dispatch = useDispatch();\r\n  const username = useSelector((state) => state.auth.username);\r\n  const avatar = useSelector((state) => state.auth.avatar);\r\n  const cartCount = useSelector((state) => state.cart.totalCount);\r\n\r\n  return (\r\n    <div className=\"mb-5\">\r\n      <div className=\"wrapper\">\r\n        <div className=\"header__auth-data\">\r\n          <span className=\"mr-3\">{username}</span>\r\n          <img src={avatar} className=\"header__user-avatar\" alt=\"user avatar\" />\r\n          <Button variant=\"outline-danger\" size=\"sm\" onClick={() => dispatch(logOut())}>Sign out</Button>\r\n        </div>\r\n      </div>\r\n      <div className=\"header__bordered\">\r\n        <div className=\"wrapper\">\r\n          <div className=\"header__main\">\r\n            <h3>JS Band Store</h3>\r\n            <Link to=\"/cart\">\r\n              <CartIcon className=\"header__cart-icon\" />\r\n              <span className=\"mr-1\">{`Cart (${cartCount})`}</span>\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import Loader from './Loader';\n\nexport default Loader;\n","import React from 'react';\nimport { Spinner } from 'react-bootstrap';\n\nconst Loader = () => (\n  <div className=\"pt-5 text-center\">\n    <Spinner animation=\"border\" variant=\"secondary\" size=\"lg\" />\n  </div>\n);\n\nexport default Loader;\n","import React, { useState } from 'react';\nimport {\n  InputGroup, Button, FormControl, Form,\n} from 'react-bootstrap';\nimport { Search as SearchIcon } from 'react-bootstrap-icons';\nimport PropTypes from 'prop-types';\nimport './styles.scss';\n\nconst Search = ({ defaultValue, onSearch }) => {\n  const [value, setValue] = useState(defaultValue);\n\n  const onSubmit = (e) => {\n    e.preventDefault();\n    onSearch(value);\n  };\n\n  return (\n    <Form className=\"search\" onSubmit={onSubmit}>\n      <InputGroup>\n        <InputGroup.Prepend>\n          <Button className=\"search__button\" type=\"submit\" variant=\"outline-secondary\">\n            <SearchIcon />\n          </Button>\n        </InputGroup.Prepend>\n        <FormControl\n          className=\"search__input\"\n          value={value}\n          onChange={(e) => setValue(e.target.value)}\n          placeholder=\"Search\"\n        />\n      </InputGroup>\n    </Form>\n  );\n};\n\nSearch.propTypes = {\n  onSearch: PropTypes.func.isRequired,\n  defaultValue: PropTypes.string.isRequired,\n};\n\nexport default React.memo(Search);\n","import Search from './Search';\n\nexport default Search;\n","import BookCatalog from './BookCatalog';\n\nexport default BookCatalog;\n","import React, { useEffect, useCallback } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { loadAllBooks, setBooksFilter, setBooksSearch } from '../../store/books/actions';\nimport BookItem from '../../components/BookItem';\nimport FilterDropdown from '../../components/FilterDropdown';\nimport Header from '../Header';\nimport Loader from '../../components/Loader';\nimport Search from '../../components/Search';\nimport './styles.scss';\n\nconst BookCatalog = () => {\n  const dispatch = useDispatch();\n  const books = useSelector((state) => state.books.data);\n  const loadingBooks = useSelector((state) => state.books.isLoading);\n  const searchText = useSelector((state) => state.books.search);\n  const filterValue = useSelector((state) => state.books.filter);\n\n  useEffect(() => {\n    if (!books.length) {\n      dispatch(loadAllBooks());\n    }\n  }, []);\n\n  const onSearch = useCallback((value) => {\n    dispatch(setBooksSearch(value.toLowerCase().trim()));\n  }, []);\n\n  const onFilter = useCallback((value) => {\n    dispatch(setBooksFilter(value));\n  }, []);\n\n  const searchBooks = (booksData, search) => (\n    booksData.filter((book) => book.title.toLowerCase().includes(search)));\n\n  const filterBooks = (booksData, filter) => {\n    if (filter !== 'All') {\n      const borderValues = filter.split('-');\n      return borderValues[1]\n        ? booksData.filter((book) => book.price > borderValues[0] && book.price < borderValues[1])\n        : booksData.filter((book) => book.price > borderValues[0]);\n    }\n\n    return booksData;\n  };\n\n  const renderBooks = (booksData) => (\n    booksData.length\n      ? (\n        <div className=\"books-container\">\n          { booksData.map((book) => <BookItem key={book.id} bookData={book} />)}\n        </div>\n      )\n      : <p className=\"text-muted pt-5 text-center\">No items match your search</p>\n  );\n\n  return (\n    <>\n      <Header />\n      <div className=\"wrapper\">\n        <div className=\"filters\">\n          <Search defaultValue={searchText} onSearch={onSearch} />\n          <FilterDropdown value={filterValue} onChange={onFilter} />\n        </div>\n        { loadingBooks && <Loader /> }\n        { books.length\n          ? renderBooks(filterBooks(searchBooks(books, searchText), filterValue))\n          : ''}\n      </div>\n    </>\n  );\n};\n\nexport default BookCatalog;\n","import BookDetails from './BookDetails';\n\nexport default BookDetails;\n","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useParams } from 'react-router-dom';\r\nimport {\r\n  Button,\r\n  Col,\r\n  Form,\r\n  Row,\r\n} from 'react-bootstrap';\r\nimport { TagsFill as TagsIcon } from 'react-bootstrap-icons';\r\nimport { loadBook } from '../../store/books/actions';\r\nimport { addBookToCart } from '../../store/cart/actions';\r\nimport Header from '../Header';\r\nimport Loader from '../../components/Loader';\r\nimport './styles.scss';\r\n\r\nconst BookDetails = () => {\r\n  const { id } = useParams();\r\n  const dispatch = useDispatch();\r\n  const book = useSelector((state) => state.books.openedBook.data);\r\n  const loadingBook = useSelector((state) => state.books.openedBook.isLoading);\r\n  const [countValue, setCountValue] = useState(1);\r\n  const [totalPrice, setTotalPrice] = useState(book.price);\r\n  const [isSuccessTextShown, setIsSuccessTextShown] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (book.id !== id) {\r\n      dispatch(loadBook(id));\r\n    }\r\n  }, [id]);\r\n\r\n  useEffect(() => {\r\n    setTotalPrice(book.price);\r\n  }, [book]);\r\n\r\n  const convertTagsToString = (tags) => (tags\r\n    ? tags.map((tag) => tag.charAt(0).toUpperCase() + tag.slice(1)).join(', ')\r\n    : '');\r\n\r\n  const countTotalPrice = (price, count) => Number((price * count).toFixed(2));\r\n\r\n  const isCountValid = (value) => value > 0 && value < 1000;\r\n\r\n  const changeCount = (e) => {\r\n    const { value } = e.target;\r\n    const numericValue = Number(value);\r\n\r\n    if (isCountValid(numericValue)) {\r\n      setCountValue(numericValue);\r\n      setTotalPrice(countTotalPrice(book.price, numericValue));\r\n    }\r\n  };\r\n\r\n  const addToCart = (e) => {\r\n    e.preventDefault();\r\n    setIsSuccessTextShown(false);\r\n\r\n    dispatch(addBookToCart({\r\n      id: book.id,\r\n      title: book.title,\r\n      price: book.price,\r\n      count: countValue,\r\n      totalPrice,\r\n    }));\r\n\r\n    setCountValue(1);\r\n    setTotalPrice(book.price);\r\n    setIsSuccessTextShown(true);\r\n    setTimeout(() => setIsSuccessTextShown(false), 3000);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Header />\r\n      <div className=\"wrapper\">\r\n        { loadingBook\r\n          ? <Loader />\r\n          : (\r\n            <div className=\"book-details\">\r\n              <div className=\"book-info\">\r\n                <div className=\"book-info__col\">\r\n                  <img className=\"book-info__image\" src={book.cover} alt=\"book cover\" />\r\n                  <p>{book.description}</p>\r\n                </div>\r\n                <div className=\"book-info__col\">\r\n                  <h5>{book.title}</h5>\r\n                  <p className=\"text-muted\">{book.author}</p>\r\n                  <div>\r\n                    <TagsIcon className=\"mr-2\" />\r\n                    {convertTagsToString(book.tags)}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <Form className=\"book-buy\" onSubmit={addToCart}>\r\n                <Form.Group as={Row}>\r\n                  <Form.Label column>\r\n                    Price, $:\r\n                  </Form.Label>\r\n                  <Form.Label className=\"text-right\" column>\r\n                    {book.price}\r\n                  </Form.Label>\r\n                </Form.Group>\r\n                <Form.Group as={Row}>\r\n                  <Form.Label column xs=\"8\">Count:</Form.Label>\r\n                  <Col xs=\"4\">\r\n                    <Form.Control\r\n                      className=\"book-count-select\"\r\n                      value={countValue}\r\n                      onChange={changeCount}\r\n                      type=\"number\"\r\n                      min=\"1\"\r\n                      size=\"sm\"\r\n                    />\r\n                  </Col>\r\n                </Form.Group>\r\n                <Form.Group as={Row}>\r\n                  <Form.Label column>Total price, $:</Form.Label>\r\n                  <Form.Label className=\"text-right\" column>{totalPrice}</Form.Label>\r\n                </Form.Group>\r\n                { isSuccessTextShown && (\r\n                <Form.Text className=\"text-success text-center mb-4\">\r\n                  Item was successfully added to the cart.\r\n                </Form.Text>\r\n                )}\r\n                <div className=\"book-add-button\">\r\n                  <Button variant=\"secondary\" type=\"submit\" size=\"sm\" disabled={isSuccessTextShown}>Add To Cart</Button>\r\n                </div>\r\n              </Form>\r\n            </div>\r\n          )}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default BookDetails;\r\n","import { ADD_BOOK_TO_CART } from './types';\r\n\r\n// eslint-disable-next-line import/prefer-default-export\r\nexport const addBookToCart = (payload) => ({ type: ADD_BOOK_TO_CART, payload });\r\n","import Cart from './Cart';\r\n\r\nexport default Cart;\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { Button, Table } from 'react-bootstrap';\r\nimport { CartFill as CartIcon } from 'react-bootstrap-icons';\r\nimport Header from '../Header';\r\nimport './styles.scss';\r\n\r\nconst Cart = () => {\r\n  const cartItems = useSelector((state) => state.cart.data);\r\n  const totalOrderPrice = useSelector((state) => state.cart.totalPrice);\r\n\r\n  return (\r\n    <>\r\n      <Header />\r\n      {cartItems.length\r\n        ? (\r\n          <div className=\"wrapper\">\r\n            <div className=\"purchase-button-container\">\r\n              <Button variant=\"secondary\">Purchase</Button>\r\n            </div>\r\n            <Table striped bordered hover className=\"mb-4\">\r\n              <thead>\r\n                <tr>\r\n                  <th>Name</th>\r\n                  <th>Count</th>\r\n                  <th>Price</th>\r\n                  <th>Total</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {cartItems.map((item) => (\r\n                  <tr key={item.id}>\r\n                    <td>{item.title}</td>\r\n                    <td>{item.count}</td>\r\n                    <td>{item.price}</td>\r\n                    <td>{item.totalPrice}</td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </Table>\r\n            <p className=\"text-right\">{`Total price:  ${totalOrderPrice} $ `}</p>\r\n          </div>\r\n        )\r\n        : (\r\n          <div className=\"wrapper empty-cart-container\">\r\n            <CartIcon className=\"cart-icon\" />\r\n            <p>Your shopping cart is empty</p>\r\n          </div>\r\n        )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Cart;\r\n","import Login from './Login';\n\nexport default Login;\n","import React, { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\nimport { Button, Form } from 'react-bootstrap';\nimport { logIn } from '../../store/auth/actions';\nimport { MAX_USERNAME_LENGTH, MIN_USERNAME_LENGTH } from '../../constants';\nimport userImage from '../../assets/images/user-image.png';\nimport './styles.scss';\n\nconst Login = () => {\n  const dispatch = useDispatch();\n  const token = useSelector((state) => state.auth.token);\n  const isLoading = useSelector((state) => state.auth.isLoading);\n  const [username, setUsername] = useState('');\n  const [validationError, setValidationError] = useState(false);\n\n  const isUserNameValid = (data) => {\n    const string = data.trim();\n    return (string.length >= MIN_USERNAME_LENGTH && string.length <= MAX_USERNAME_LENGTH);\n  };\n\n  const submitLogIn = (e) => {\n    e.preventDefault();\n\n    if (isUserNameValid(username)) {\n      dispatch(logIn(username));\n    } else {\n      setValidationError(true);\n    }\n  };\n\n  const onInputChange = (e) => {\n    const inputValue = e.target.value;\n    setUsername(inputValue);\n    setValidationError(!isUserNameValid(inputValue));\n  };\n\n  return token\n    ? <Redirect to=\"/catalog\" />\n    : (\n      <div className=\"login-form-container wrapper\">\n        <Form className=\"login-form\" onSubmit={submitLogIn}>\n          <img className=\"w-100 mb-4\" src={userImage} alt=\"user\" />\n          <h2 className=\"text-center mb-5\">JS Band Store</h2>\n          <Form.Group className=\"d-block\">\n            <Form.Label>Name</Form.Label>\n            <Form.Control\n              className={`login-form__input ${validationError ? 'is-invalid' : ''}`}\n              type=\"text\"\n              placeholder=\"Enter username\"\n              onChange={onInputChange}\n            />\n            { validationError && (\n            <Form.Text className=\"text-danger\">\n              Username is not valid. Username should be 4-16 characters long.\n            </Form.Text>\n            )}\n          </Form.Group>\n          <Button className=\"w-100\" disabled={isLoading} variant=\"secondary\" type=\"submit\">\n            Log In\n          </Button>\n        </Form>\n      </div>\n    );\n};\n\nexport default Login;\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAgMAAACJFjxpAAAADFBMVEXFxcX////p6enW1tbAmiBwAAAFiElEQVR4AezAgQAAAACAoP2pF6kAAAAAAAAAAAAAAIDbu2MkvY0jiuMWWQoUmI50BB+BgRTpCAz4G6C8CJDrC3AEXGKPoMTlYA/gAJfwETawI8cuBs5Nk2KtvfiLW+gLfK9m+r3X82G653+JP/zjF8afP1S//y+An4/i51//AsB4aH+/QPD6EQAY/zwZwN8BAP50bh786KP4+VT+3fs4/noigEc+jnHeJrzxX+NWMDDh4g8+EXcnLcC9T8U5S/CdT8bcUeBEIrwBOiI8ki7Ba5+NrePgWUy89/nYyxQ8Iw3f+pWY4h1gb3eAW7sDTPEOsLc7wK1TIeDuDB+I/OA1QOUHv/dFsZQkhKkh4QlEfOULYz2nGj2/Nn1LmwR/86VxlCoAW6kCsHRGANx1RgCMo5Qh2EsZgrXNQZZShp5Liv7Il8eIc5C91EHY2hxk6bwYmNscZIReDBwtCdhbErC1JGBpScBcOgFMLQsZMQs5Whayd+UQsLYsZGlZyNyykKllISNmIUfAwifw8NXvTojAjGFrdYi11SGWVoeYWx1i6lmQCiEjFkKOVgjZ+xxIhZCtFULWHkCqxCw9gNQKmP9vNHzipdEPrRcxtVbAeDkAvve0iM2QozVD9hfjhp4YP/UrkJYDbD2AtBxgfSkAvvHEeNcDSAsilgtAWxIy91J8AXgZAJ5e33+4tuACcAG4AFwALgBXRXQB6AFcB5MXAuA6nl9/0Vx/011/1V5/1/dfTPJvRtdnu/zL6beeFO/7r+fXBYbrEkt/j+i6ytXfpuvvE/ZXOnsA/a3a/l5xf7O6v1t+Xe/vOyz6HpO8yyboM8o7rfJes77bru83THk48p7TvOs27zvOO6/73vO++z7l4cgnMPQzKPopHC0N9noSSz6LJp/Gk88jyicy5TOp6qlc+VyyfDJbPpuuns6XzyfMJzTmMyrrKZ35nNJ8Ums+q7af1tvPK+4nNodEnPKp3fnc8npyez67/qVP7+/fL8hfcMjfsOhf8cjfMclfcnn9+BkOnLECP8Q58OYeyJ40eoyF6Ee/En/JHlP6mIlRVXprF4BxtAvArV0AxtEuALd2ARhHuwDc2gVgHPX/hFv9fMBddjIGeKg/WCxlCsI46u+Ga5mCcJd+sIG9UkGAW32ZbApFAHhod4Bb3eo04h3god0BbiUHYApVCNjbHeBW+QDAXT4a7qg7r7e214057vg0QhkEHkoSwq0kIdydXw4/Q3H8hjYJ3vL0WConBJhCHQaOToeBrU0BljYFmEoVgHGUKgAPnREAt84IgLuqFgAYSUEOAHszDwuAtSkHAZhLGYIpdCLgKGUIHtocZG1zkLmUIRhxDnJU1RDA1uYga5uDzKUOwhTnIEfnxcDe5iBrcyQAYGlzkKkUYhhxDrKXQgxbSwLWUohhbknA1JKAEZOAvSUBW0sC1pYEzC0JmFoSMMJyCDhaFrK3JGDtyiFgaVnI3LKQqWUhI2YhR8tC9paFrC0LWVoWMrcsZGpZyIhZyNGykL2rSIGtlQHWVgZYWhlgbmWAqZUBRiwDHK0MsLcywNbKAGsOoNUhllaHmFsdYmp1iBHrEEerQ+w5gFYI2VodYm11iKXVIeYcQCuETK0QMmIh5MgBtELI3gohWyuErDmAVolZWiFkzgG0SszUKjGjfj6gVmKOVonZcwCtFbB9HQC+ozWDbz1bvGu9iKW1AuYcQOtFTLEX1GbIaFegN0OOHEBrhuw5gNYM2XIArRuz5gDacoB3bTnAEktxXQ4wfw0AvveM8b4tiJjSJOwLIsbXsAKeNeKCiOO3D+AVbUl0AfjGs8ZPbUnIdgFoa1LWC0BblfMuB9AeC1j6gqQE0J9LmC8AOYD2ZMb7i4bt2ZTpWoHfPoB7Tj2fXzT8N1X41vkq/QHOAAAAAElFTkSuQmCC\"","export default __webpack_public_path__ + \"static/media/gandalf.0781757b.png\";","import NotFound from './NotFound';\n\nexport default NotFound;\n","import React from 'react';\nimport './styles.scss';\nimport notFoundImage from '../../assets/images/gandalf.png';\n\nconst NotFound = () => (\n  <div className=\"not-found wrapper\">\n    <img src={notFoundImage} alt=\"gandalf not found\" />\n    <div className=\"message\">\n      <h1 className=\"mb-4\">404 - You Shall Not Pass</h1>\n      <p>\n        Uh oh, Gandalf is blocking the way!\n        <span className=\"d-block\">Maybe you have a typo in the url? Or you meant to go to a different location?</span>\n      </p>\n    </div>\n  </div>\n);\n\nexport default NotFound;\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nconst ProtectedRoute = ({\n  component: Component,\n  token,\n  exact,\n  path,\n}) => (\n  <Route exact={exact} path={path}>\n    { token\n      ? <Component />\n      : <Redirect to=\"/login\" />}\n  </Route>\n);\n\nProtectedRoute.defaultProps = { exact: false };\n\nProtectedRoute.propTypes = {\n  component: PropTypes.func.isRequired,\n  token: PropTypes.string.isRequired,\n  exact: PropTypes.bool,\n  path: PropTypes.string.isRequired,\n};\n\nexport default ProtectedRoute;\n","import ProtectedRoute from './ProtectedRoute';\n\nexport default ProtectedRoute;\n","import React from 'react';\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Redirect,\r\n} from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\nimport BookCatalog from './containers/BookCatalog';\r\nimport BookDetails from './containers/BookDetails';\r\nimport Cart from './containers/Cart';\r\nimport Login from './containers/Login';\r\nimport NotFound from './components/NotFound';\r\nimport ProtectedRoute from './components/ProtectedRoute';\r\nimport './App.scss';\r\n\r\nconst App = () => {\r\n  const token = useSelector((state) => state.auth.token);\r\n\r\n  return (\r\n    <Router basename={process.env.PUBLIC_URL}>\r\n      <Switch>\r\n        <ProtectedRoute exact path=\"/catalog\" component={BookCatalog} token={token} />\r\n        <ProtectedRoute exact path=\"/catalog/:id\" component={BookDetails} token={token} />\r\n        <Route exact path=\"/not-found\" component={NotFound} />\r\n        <Route exact path=\"/login\" component={Login} />\r\n        <Route exact path=\"/cart\" component={Cart} />\r\n        <Route exact path=\"/\">\r\n          <Redirect to=\"/catalog\" />\r\n        </Route>\r\n        <Route>\r\n          <Redirect to=\"/not-found\" />\r\n        </Route>\r\n      </Switch>\r\n    </Router>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport store from './store';\nimport App from './App';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}