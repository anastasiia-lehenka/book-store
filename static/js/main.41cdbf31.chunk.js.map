{"version":3,"sources":["constants.js","services/localStorageApi.js","store/auth/types.js","store/auth/reducer.js","store/books/types.js","store/books/reducer.js","store/cart/types.js","store/cart/reducer.js","store/rootReducer.js","services/service.js","store/auth/actions.js","store/auth/saga.js","store/books/actions.js","store/books/saga.js","store/cart/actions.js","store/cart/saga.js","store/rootSaga.js","store/index.js","components/BookItem/index.js","components/BookItem/BookItem.jsx","components/FilterDropdown/FilterDropdown.jsx","components/FilterDropdown/index.js","containers/Header/index.js","containers/Header/Header.jsx","components/Loader/index.js","components/Loader/Loader.jsx","components/Search/Search.jsx","components/Search/index.js","containers/BookCatalog/index.js","containers/BookCatalog/BookCatalog.jsx","containers/BookDetails/index.js","containers/BookDetails/BookDetails.jsx","components/CartItemsTable/CartItemsTable.jsx","components/PurchaseModal/PurchaseModal.jsx","containers/Cart/index.js","containers/Cart/Cart.jsx","containers/Login/index.js","containers/Login/Login.jsx","assets/images/user-image.png","assets/images/gandalf.png","components/NotFound/index.js","components/NotFound/NotFound.jsx","components/ProtectedRoute/ProtectedRoute.jsx","components/ProtectedRoute/index.js","App.jsx","index.jsx"],"names":["USER_STORAGE_KEY","setUserData","user","localStorage","setItem","JSON","stringify","deleteUserData","removeItem","LOG_IN","LOG_IN_SUCCESS","LOG_IN_FAILURE","LOG_OUT","userData","parse","getItem","initialState","token","username","avatar","isLoading","error","reducer","state","action","type","payload","LOAD_ALL_BOOKS","LOAD_ALL_BOOKS_FAILURE","LOAD_ALL_BOOKS_SUCCESS","LOAD_BOOK","LOAD_BOOK_FAILURE","LOAD_BOOK_SUCCESS","SET_BOOKS_SEARCH","SET_BOOKS_FILTER","data","search","filter","openedBook","ADD_BOOK_TO_CART","PURCHASE","PURCHASE_SUCCESS","PURCHASE_FAILURE","SHOW_MODAL","HIDE_MODAL","CLEAR_CART","totalPrice","totalCount","isModalShown","find","book","id","map","count","Number","toFixed","rootReducer","combineReducers","auth","authReducer","books","booksReducer","cart","cartReducer","service","logIn","a","sendHttpRequest","method","entity","signInEntity","getAllBooks","booksEntity","getBook","purchase","purchaseEntity","Service","instance","this","url","fetch","body","headers","Authorization","response","json","parsedResponse","ok","message","status","Error","Object","freeze","logInSuccess","logInFailure","logInWorker","logOutWorker","call","authData","put","loadAllBooksSuccess","loadBookSuccess","loadBookFailure","loadAllBooksWorker","loadBookWorker","select","purchaseSuccess","purchaseFailure","purchaseWorker","forEach","i","push","rootSaga","takeEvery","configureStore","sagaMiddleware","createSagaMiddleware","store","createStore","compose","applyMiddleware","window","__REDUX_DEVTOOLS_EXTENSION__","f","run","BookItem","bookData","Card","className","Img","variant","src","cover","alt","Body","Title","title","Subtitle","author","Footer","price","to","Button","size","FilterDropdown","value","onChange","Form","Label","Control","as","e","target","React","memo","Header","dispatch","useDispatch","useSelector","cartCount","onClick","Loader","Spinner","animation","Search","defaultValue","onSearch","useState","setValue","onSubmit","preventDefault","InputGroup","Prepend","FormControl","placeholder","BookCatalog","loadingBooks","searchText","filterValue","useEffect","length","booksData","useCallback","toLowerCase","trim","onFilter","borderValues","split","filterBooks","includes","searchBooks","BookDetails","timer","useParams","loadingBook","countValue","setCountValue","setTotalPrice","isSuccessTextShown","setIsSuccessTextShown","clearTimeout","tags","description","tag","charAt","toUpperCase","slice","join","setTimeout","Group","Row","column","xs","Col","numericValue","isCountValid","min","Text","disabled","CartItemsTable","items","Table","striped","bordered","hover","item","PurchaseModal","children","onClose","Modal","show","backdrop","keyboard","onHide","closeButton","Cart","cartItems","totalOrderPrice","Login","setUsername","validationError","setValidationError","isUserNameValid","string","inputValue","NotFound","notFoundImage","ProtectedRoute","Component","component","exact","path","defaultProps","App","basename","process","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.41cdbf31.chunk.js","sourcesContent":["export const SERVER_URL = 'https://js-band-store-api.glitch.me';\nexport const USER_STORAGE_KEY = 'currentUser';\nexport const MIN_USERNAME_LENGTH = 4;\nexport const MAX_USERNAME_LENGTH = 16;\n","import { USER_STORAGE_KEY } from '../constants';\n\nexport const getUserData = () => JSON.parse(localStorage.getItem(USER_STORAGE_KEY));\nexport const setUserData = (user) => localStorage.setItem(USER_STORAGE_KEY, JSON.stringify(user));\nexport const deleteUserData = () => localStorage.removeItem(USER_STORAGE_KEY);\n","export const LOG_IN = 'LOG_IN';\nexport const LOG_IN_SUCCESS = 'LOG_IN_SUCCESS';\nexport const LOG_IN_FAILURE = 'LOG_IN_FAILURE';\nexport const LOG_OUT = 'LOG_OUT';\n","import { getUserData } from '../../services/localStorageApi';\nimport {\n  LOG_IN,\n  LOG_IN_SUCCESS,\n  LOG_IN_FAILURE,\n  LOG_OUT,\n} from './types';\n\nconst userData = getUserData();\n\nconst initialState = userData\n  ? {\n    token: userData.token,\n    username: userData.username,\n    avatar: userData.avatar,\n    isLoading: false,\n    error: '',\n  }\n  : {\n    token: '',\n    username: '',\n    avatar: '',\n    isLoading: false,\n    error: '',\n  };\n\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case LOG_IN:\n      return {\n        ...state,\n        isLoading: true,\n        error: '',\n      };\n\n    case LOG_IN_SUCCESS:\n      return {\n        ...state,\n        ...action.payload,\n        isLoading: false,\n        error: '',\n      };\n\n    case LOG_IN_FAILURE:\n      return {\n        ...state,\n        isLoading: false,\n        error: action.payload,\n      };\n\n    case LOG_OUT:\n      return {\n        ...state,\n        token: '',\n        username: '',\n        avatar: '',\n      };\n\n    default: return state;\n  }\n};\n\nexport default reducer;\n","export const LOAD_ALL_BOOKS = 'LOAD_ALL_BOOKS';\nexport const LOAD_ALL_BOOKS_FAILURE = 'LOAD_ALL_BOOKS_FAILURE';\nexport const LOAD_ALL_BOOKS_SUCCESS = 'LOAD_ALL_BOOKS_SUCCESS';\nexport const LOAD_BOOK = 'LOAD_BOOK';\nexport const LOAD_BOOK_FAILURE = 'LOAD_BOOK_FAILURE';\nexport const LOAD_BOOK_SUCCESS = 'LOAD_BOOK_SUCCESS';\nexport const SET_BOOKS_SEARCH = 'SET_BOOKS_SEARCH';\nexport const SET_BOOKS_FILTER = 'SET_BOOKS_FILTER';\n","import {\n  LOAD_ALL_BOOKS,\n  LOAD_ALL_BOOKS_SUCCESS,\n  LOAD_ALL_BOOKS_FAILURE,\n  LOAD_BOOK,\n  LOAD_BOOK_SUCCESS,\n  LOAD_BOOK_FAILURE,\n  SET_BOOKS_FILTER,\n  SET_BOOKS_SEARCH,\n} from './types';\nimport { LOG_OUT } from '../auth/types';\n\nconst initialState = {\n  data: [],\n  isLoading: false,\n  error: '',\n  search: '',\n  filter: 'All',\n  openedBook: {\n    data: {},\n    isLoading: false,\n    error: '',\n  },\n};\n\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case LOAD_ALL_BOOKS:\n      return {\n        ...state,\n        isLoading: true,\n        error: '',\n      };\n\n    case LOAD_ALL_BOOKS_SUCCESS:\n      return {\n        ...state,\n        data: action.payload,\n        isLoading: false,\n        error: '',\n      };\n\n    case LOAD_ALL_BOOKS_FAILURE:\n      return {\n        ...state,\n        data: [],\n        isLoading: false,\n        error: action.payload,\n      };\n\n    case LOAD_BOOK:\n      return {\n        ...state,\n        openedBook: {\n          ...state.openedBook,\n          data: [],\n          isLoading: true,\n          error: '',\n        },\n      };\n\n    case LOAD_BOOK_SUCCESS:\n      return {\n        ...state,\n        openedBook: {\n          data: action.payload,\n          isLoading: false,\n          error: '',\n        },\n      };\n\n    case LOAD_BOOK_FAILURE:\n      return {\n        ...state,\n        openedBook: {\n          data: [],\n          isLoading: false,\n          error: action.payload,\n        },\n      };\n\n    case SET_BOOKS_SEARCH:\n      return {\n        ...state,\n        search: action.payload,\n      };\n\n    case SET_BOOKS_FILTER:\n      return {\n        ...state,\n        filter: action.payload,\n      };\n\n    case LOG_OUT:\n      return initialState;\n\n    default: return state;\n  }\n};\n\nexport default reducer;\n","export const ADD_BOOK_TO_CART = 'ADD_BOOK_TO_CART';\r\nexport const PURCHASE = 'PURCHASE';\r\nexport const PURCHASE_SUCCESS = 'PURCHASE_SUCCESS';\r\nexport const PURCHASE_FAILURE = 'PURCHASE_FAILURE';\r\nexport const SHOW_MODAL = 'SHOW_MODAL';\r\nexport const HIDE_MODAL = 'HIDE_MODAL';\r\nexport const CLEAR_CART = 'CLEAR_CART';\r\n","import {\r\n  ADD_BOOK_TO_CART,\r\n  PURCHASE,\r\n  PURCHASE_FAILURE,\r\n  PURCHASE_SUCCESS,\r\n  SHOW_MODAL,\r\n  HIDE_MODAL,\r\n  CLEAR_CART,\r\n} from './types';\r\n\r\nconst initialState = {\r\n  data: [],\r\n  totalPrice: 0,\r\n  totalCount: 0,\r\n  isLoading: false,\r\n  error: '',\r\n  isModalShown: false,\r\n};\r\n\r\nconst reducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ADD_BOOK_TO_CART:\r\n      // eslint-disable-next-line no-case-declarations\r\n      let data;\r\n\r\n      if (state.data.find((book) => book.id === action.payload.id)) {\r\n        data = state.data.map((book) => (\r\n          action.payload.id === book.id\r\n            ? {\r\n              ...book,\r\n              count: book.count + action.payload.count,\r\n              totalPrice: Number((book.totalPrice + action.payload.totalPrice).toFixed(2)),\r\n            }\r\n            : book\r\n        ));\r\n      } else {\r\n        data = [...state.data, action.payload];\r\n      }\r\n\r\n      return {\r\n        ...state,\r\n        data,\r\n        totalPrice: Number((state.totalPrice + action.payload.totalPrice).toFixed(2)),\r\n        totalCount: state.totalCount + action.payload.count,\r\n      };\r\n\r\n    case PURCHASE:\r\n      return {\r\n        ...state,\r\n        isLoading: true,\r\n        error: '',\r\n      };\r\n\r\n    case PURCHASE_SUCCESS:\r\n      return {\r\n        ...state,\r\n        isLoading: false,\r\n        error: '',\r\n      };\r\n\r\n    case PURCHASE_FAILURE:\r\n      return {\r\n        ...state,\r\n        isLoading: false,\r\n        error: action.payload,\r\n      };\r\n\r\n    case SHOW_MODAL:\r\n      return {\r\n        ...state,\r\n        isModalShown: true,\r\n      };\r\n\r\n    case HIDE_MODAL:\r\n      return {\r\n        ...state,\r\n        isModalShown: false,\r\n      };\r\n\r\n    case CLEAR_CART:\r\n      return {\r\n        ...state,\r\n        data: [],\r\n        totalPrice: 0,\r\n        totalCount: 0,\r\n      };\r\n\r\n    default: return state;\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n","import { combineReducers } from 'redux';\nimport authReducer from './auth/reducer';\nimport booksReducer from './books/reducer';\nimport cartReducer from './cart/reducer';\n\nconst rootReducer = combineReducers({\n  auth: authReducer,\n  books: booksReducer,\n  cart: cartReducer,\n});\n\nexport default rootReducer;\n","import { SERVER_URL } from '../constants';\n\nclass Service {\n  constructor() {\n    if (!Service.instance) {\n      this.url = SERVER_URL;\n      this.booksEntity = 'books';\n      this.purchaseEntity = 'purchase';\n      this.signInEntity = 'signin';\n      Service.instance = this;\n    }\n\n    return Service.instance;\n  }\n\n  async sendHttpRequest({\n    method,\n    entity,\n    data,\n    token,\n  }) {\n    const response = await fetch(`${this.url}/${entity}`, {\n      method,\n      body: JSON.stringify(data),\n      headers: token\n        ? { 'Content-Type': 'application/json', Authorization: `Bearer ${token}` }\n        : { 'Content-Type': 'application/json' },\n    });\n\n    const parsedResponse = await response.json();\n\n    if (!response.ok) {\n      const message = `${response.status}. ${parsedResponse.message}`;\n      throw new Error(message);\n    }\n\n    return parsedResponse;\n  }\n\n  logIn = async (username) => this.sendHttpRequest({\n    method: 'POST',\n    entity: this.signInEntity,\n    data: { username },\n  });\n\n  getAllBooks = async (token) => this.sendHttpRequest({\n    method: 'GET',\n    entity: this.booksEntity,\n    token,\n  });\n\n  getBook = async (id, token) => this.sendHttpRequest({\n    method: 'GET',\n    entity: `${this.booksEntity}/${id}`,\n    token,\n  });\n\n  purchase = async (data, token) => this.sendHttpRequest({\n    method: 'POST',\n    entity: this.purchaseEntity,\n    data,\n    token,\n  });\n}\n\nconst service = new Service();\nObject.freeze(service);\nexport default service;\n","import {\n  LOG_IN,\n  LOG_IN_SUCCESS,\n  LOG_IN_FAILURE,\n  LOG_OUT,\n} from './types';\n\nexport const logIn = (payload) => ({ type: LOG_IN, payload });\nexport const logInSuccess = (payload) => ({ type: LOG_IN_SUCCESS, payload });\nexport const logInFailure = (payload) => ({ type: LOG_IN_FAILURE, payload });\nexport const logOut = () => ({ type: LOG_OUT });\n","import { call, put } from 'redux-saga/effects';\nimport service from '../../services/service';\nimport { deleteUserData, setUserData } from '../../services/localStorageApi';\nimport { logInSuccess, logInFailure } from './actions';\n\nexport function* logInWorker({ payload }) {\n  let authData;\n\n  try {\n    authData = yield call(service.logIn, payload);\n  } catch (err) {\n    yield put(logInFailure(err.message));\n    return;\n  }\n\n  yield put(logInSuccess(authData));\n  yield call(setUserData, authData);\n}\n\nexport function* logOutWorker() {\n  yield call(deleteUserData);\n}\n","import {\n  LOAD_ALL_BOOKS,\n  LOAD_ALL_BOOKS_FAILURE,\n  LOAD_ALL_BOOKS_SUCCESS,\n  LOAD_BOOK,\n  LOAD_BOOK_FAILURE,\n  LOAD_BOOK_SUCCESS,\n  SET_BOOKS_SEARCH,\n  SET_BOOKS_FILTER,\n} from './types';\n\nexport const loadAllBooks = () => ({ type: LOAD_ALL_BOOKS });\nexport const loadAllBooksSuccess = (payload) => ({ type: LOAD_ALL_BOOKS_SUCCESS, payload });\nexport const loadAllBooksFailure = (payload) => ({ type: LOAD_ALL_BOOKS_FAILURE, payload });\nexport const loadBook = (payload) => ({ type: LOAD_BOOK, payload });\nexport const loadBookSuccess = (payload) => ({ type: LOAD_BOOK_SUCCESS, payload });\nexport const loadBookFailure = (payload) => ({ type: LOAD_BOOK_FAILURE, payload });\nexport const setBooksSearch = (payload) => ({ type: SET_BOOKS_SEARCH, payload });\nexport const setBooksFilter = (payload) => ({ type: SET_BOOKS_FILTER, payload });\n","import { call, put, select } from 'redux-saga/effects';\nimport service from '../../services/service';\nimport {\n  loadAllBooksSuccess,\n  loadAllBooksFailure,\n  loadBookSuccess,\n  loadBookFailure,\n} from './actions';\n\nexport function* loadAllBooksWorker() {\n  let books;\n  const { auth } = yield select();\n\n  try {\n    books = yield call(service.getAllBooks, auth.token);\n  } catch (err) {\n    yield put(loadAllBooksFailure(err.message));\n    return;\n  }\n\n  yield put(loadAllBooksSuccess(books));\n}\n\nexport function* loadBookWorker({ payload }) {\n  let book;\n  const { auth } = yield select();\n\n  try {\n    book = yield call(service.getBook, payload, auth.token);\n  } catch (err) {\n    yield put(loadBookFailure(err.message));\n    return;\n  }\n\n  yield put(loadBookSuccess(book));\n}\n","import {\r\n  ADD_BOOK_TO_CART,\r\n  PURCHASE,\r\n  PURCHASE_SUCCESS,\r\n  PURCHASE_FAILURE,\r\n  SHOW_MODAL,\r\n  HIDE_MODAL,\r\n  CLEAR_CART,\r\n} from './types';\r\n\r\nexport const addBookToCart = (payload) => ({ type: ADD_BOOK_TO_CART, payload });\r\nexport const purchase = (payload) => ({ type: PURCHASE, payload });\r\nexport const purchaseSuccess = (payload) => ({ type: PURCHASE_SUCCESS, payload });\r\nexport const purchaseFailure = (payload) => ({ type: PURCHASE_FAILURE, payload });\r\nexport const showModal = () => ({ type: SHOW_MODAL });\r\nexport const hideModal = () => ({ type: HIDE_MODAL });\r\nexport const clearCart = () => ({ type: CLEAR_CART });\r\n","import { call, put, select } from 'redux-saga/effects';\r\nimport service from '../../services/service';\r\nimport {\r\n  purchaseSuccess,\r\n  purchaseFailure,\r\n  showModal,\r\n} from './actions';\r\n\r\n// eslint-disable-next-line import/prefer-default-export\r\nexport function* purchaseWorker({ payload }) {\r\n  const { auth } = yield select();\r\n  const data = {\r\n    books: [],\r\n  };\r\n\r\n  payload.forEach((book) => {\r\n    let i = book.count;\r\n\r\n    while (i) {\r\n      data.books.push(book.id);\r\n      i -= 1;\r\n    }\r\n  });\r\n\r\n  try {\r\n    yield call(service.purchase, data, auth.token);\r\n  } catch (err) {\r\n    yield put(purchaseFailure(err.message));\r\n    return;\r\n  }\r\n\r\n  yield put(purchaseSuccess());\r\n  yield put(showModal());\r\n}\r\n","import { takeEvery } from 'redux-saga/effects';\nimport { logInWorker, logOutWorker } from './auth/saga';\nimport { loadAllBooksWorker, loadBookWorker } from './books/saga';\nimport { purchaseWorker } from './cart/saga';\nimport { LOG_IN, LOG_OUT } from './auth/types';\nimport { LOAD_ALL_BOOKS, LOAD_BOOK } from './books/types';\nimport { PURCHASE } from './cart/types';\n\nfunction* rootSaga() {\n  yield takeEvery(LOG_IN, logInWorker);\n  yield takeEvery(LOAD_ALL_BOOKS, loadAllBooksWorker);\n  yield takeEvery(LOAD_BOOK, loadBookWorker);\n  yield takeEvery(PURCHASE, purchaseWorker);\n  yield takeEvery(LOG_OUT, logOutWorker);\n}\n\nexport default rootSaga;\n","/* eslint-disable no-underscore-dangle */\nimport {\n  createStore,\n  applyMiddleware,\n  compose,\n} from 'redux';\nimport createSagaMiddleware from 'redux-saga';\nimport rootReducer from './rootReducer';\nimport rootSaga from './rootSaga';\n\nconst configureStore = () => {\n  const sagaMiddleware = createSagaMiddleware();\n  const store = createStore(\n    rootReducer,\n    compose(\n      applyMiddleware(sagaMiddleware),\n      window.__REDUX_DEVTOOLS_EXTENSION__\n        ? window.__REDUX_DEVTOOLS_EXTENSION__()\n        : (f) => f,\n    ),\n  );\n\n  sagaMiddleware.run(rootSaga);\n  return store;\n};\n\nexport default configureStore();\n","import BookItem from './BookItem';\n\nexport default BookItem;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { Card, Button } from 'react-bootstrap';\nimport PropTypes from 'prop-types';\nimport './styles.scss';\n\nconst BookItem = ({ bookData }) => (\n  <Card className=\"book-card\">\n    <Card.Img className=\"book-card__image\" variant=\"top\" src={bookData.cover} alt=\"book cover\" />\n    <Card.Body className=\"book-card__body\">\n      <Card.Title>{bookData.title}</Card.Title>\n      <Card.Subtitle className=\"mb-2 text-muted\">{bookData.author}</Card.Subtitle>\n    </Card.Body>\n    <Card.Footer className=\"book-card__footer\">\n      {/* eslint-disable-next-line react/jsx-one-expression-per-line */}\n      <p className=\"m-0\">{bookData.price}$</p>\n      <Link to={`/catalog/${bookData.id}`}>\n        <Button variant=\"outline-secondary\" size=\"sm\">View</Button>\n      </Link>\n    </Card.Footer>\n  </Card>\n);\n\nBookItem.propTypes = {\n  bookData: PropTypes.shape({\n    id: PropTypes.string,\n    title: PropTypes.string,\n    author: PropTypes.string,\n    level: PropTypes.string,\n    description: PropTypes.string,\n    cover: PropTypes.string,\n    tags: PropTypes.arrayOf(PropTypes.string),\n    price: PropTypes.number,\n    count: PropTypes.number,\n  }).isRequired,\n};\n\nexport default BookItem;\n","import React from 'react';\nimport { Form } from 'react-bootstrap';\nimport PropTypes from 'prop-types';\nimport './styles.scss';\n\nconst FilterDropdown = ({ value, onChange }) => (\n  <div className=\"filter\">\n    <Form.Label className=\"mb-0 mr-3\">Price:</Form.Label>\n    <Form.Control className=\"filter__dropdown\" as=\"select\" value={value} onChange={(e) => onChange(e.target.value)}>\n      <option value=\"All\">All</option>\n      <option value=\"0-25\">0-25$</option>\n      <option value=\"25-50\">25-50$</option>\n      <option value=\"50\">50+$</option>\n    </Form.Control>\n  </div>\n);\n\nFilterDropdown.propTypes = {\n  onChange: PropTypes.func.isRequired,\n  value: PropTypes.string.isRequired,\n};\n\nexport default React.memo(FilterDropdown);\n","import FilterDropdown from './FilterDropdown';\n\nexport default FilterDropdown;\n","import Header from './Header';\n\nexport default Header;\n","import React from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { Button } from 'react-bootstrap';\r\nimport { CartFill as CartIcon } from 'react-bootstrap-icons';\r\nimport { logOut } from '../../store/auth/actions';\r\nimport './styles.scss';\r\n\r\nconst Header = () => {\r\n  const dispatch = useDispatch();\r\n  const username = useSelector((state) => state.auth.username);\r\n  const avatar = useSelector((state) => state.auth.avatar);\r\n  const cartCount = useSelector((state) => state.cart.totalCount);\r\n\r\n  return (\r\n    <div className=\"mb-5\">\r\n      <div className=\"wrapper\">\r\n        <div className=\"header__auth-data\">\r\n          <span className=\"mr-3\">{username}</span>\r\n          <img src={avatar} className=\"header__user-avatar\" alt=\"user avatar\" />\r\n          <Button variant=\"outline-danger\" size=\"sm\" onClick={() => dispatch(logOut())}>Sign out</Button>\r\n        </div>\r\n      </div>\r\n      <div className=\"header__bordered\">\r\n        <div className=\"wrapper\">\r\n          <div className=\"header__main\">\r\n            <Link to=\"/catalog\">\r\n              <h3>JS Band Store</h3>\r\n            </Link>\r\n            <Link to=\"/cart\">\r\n              <CartIcon className=\"header__cart-icon\" />\r\n              <span className=\"mr-1\">{`Cart (${cartCount})`}</span>\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import Loader from './Loader';\n\nexport default Loader;\n","import React from 'react';\nimport { Spinner } from 'react-bootstrap';\n\nconst Loader = () => (\n  <div className=\"pt-5 text-center\">\n    <Spinner animation=\"border\" variant=\"secondary\" size=\"lg\" />\n  </div>\n);\n\nexport default Loader;\n","import React, { useState } from 'react';\nimport {\n  InputGroup, Button, FormControl, Form,\n} from 'react-bootstrap';\nimport { Search as SearchIcon } from 'react-bootstrap-icons';\nimport PropTypes from 'prop-types';\nimport './styles.scss';\n\nconst Search = ({ defaultValue, onSearch }) => {\n  const [value, setValue] = useState(defaultValue);\n\n  const onSubmit = (e) => {\n    e.preventDefault();\n    onSearch(value);\n  };\n\n  return (\n    <Form className=\"search\" onSubmit={onSubmit}>\n      <InputGroup>\n        <InputGroup.Prepend>\n          <Button className=\"search__button\" type=\"submit\" variant=\"outline-secondary\">\n            <SearchIcon />\n          </Button>\n        </InputGroup.Prepend>\n        <FormControl\n          className=\"search__input\"\n          value={value}\n          onChange={(e) => setValue(e.target.value)}\n          placeholder=\"Search\"\n        />\n      </InputGroup>\n    </Form>\n  );\n};\n\nSearch.propTypes = {\n  onSearch: PropTypes.func.isRequired,\n  defaultValue: PropTypes.string.isRequired,\n};\n\nexport default React.memo(Search);\n","import Search from './Search';\n\nexport default Search;\n","import BookCatalog from './BookCatalog';\n\nexport default BookCatalog;\n","import React, { useEffect, useCallback } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { loadAllBooks, setBooksFilter, setBooksSearch } from '../../store/books/actions';\nimport BookItem from '../../components/BookItem';\nimport FilterDropdown from '../../components/FilterDropdown';\nimport Header from '../Header';\nimport Loader from '../../components/Loader';\nimport Search from '../../components/Search';\nimport './styles.scss';\n\nconst BookCatalog = () => {\n  const dispatch = useDispatch();\n  const books = useSelector((state) => state.books.data);\n  const loadingBooks = useSelector((state) => state.books.isLoading);\n  const searchText = useSelector((state) => state.books.search);\n  const filterValue = useSelector((state) => state.books.filter);\n\n  useEffect(() => {\n    if (!books.length) {\n      dispatch(loadAllBooks());\n    }\n  }, []);\n\n  const onSearch = useCallback((value) => {\n    dispatch(setBooksSearch(value.toLowerCase().trim()));\n  }, []);\n\n  const onFilter = useCallback((value) => {\n    dispatch(setBooksFilter(value));\n  }, []);\n\n  const searchBooks = (booksData, search) => (\n    booksData.filter((book) => book.title.toLowerCase().includes(search)));\n\n  const filterBooks = (booksData, filter) => {\n    if (filter !== 'All') {\n      const borderValues = filter.split('-');\n      return borderValues[1]\n        ? booksData.filter((book) => book.price > borderValues[0] && book.price < borderValues[1])\n        : booksData.filter((book) => book.price > borderValues[0]);\n    }\n\n    return booksData;\n  };\n\n  const renderBooks = (booksData) => (\n    booksData.length\n      ? (\n        <div className=\"books-container\">\n          { booksData.map((book) => <BookItem key={book.id} bookData={book} />)}\n        </div>\n      )\n      : <p className=\"text-muted pt-5 text-center\">No items match your search</p>\n  );\n\n  return (\n    <>\n      <Header />\n      <div className=\"wrapper\">\n        <div className=\"filters\">\n          <Search defaultValue={searchText} onSearch={onSearch} />\n          <FilterDropdown value={filterValue} onChange={onFilter} />\n        </div>\n        { loadingBooks && <Loader /> }\n        { books.length\n          ? renderBooks(filterBooks(searchBooks(books, searchText), filterValue))\n          : ''}\n      </div>\n    </>\n  );\n};\n\nexport default BookCatalog;\n","import BookDetails from './BookDetails';\n\nexport default BookDetails;\n","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useParams } from 'react-router-dom';\r\nimport {\r\n  Button,\r\n  Col,\r\n  Form,\r\n  Row,\r\n} from 'react-bootstrap';\r\nimport { TagsFill as TagsIcon } from 'react-bootstrap-icons';\r\nimport { loadBook } from '../../store/books/actions';\r\nimport { addBookToCart } from '../../store/cart/actions';\r\nimport Header from '../Header';\r\nimport Loader from '../../components/Loader';\r\nimport './styles.scss';\r\n\r\nconst BookDetails = () => {\r\n  const { id } = useParams();\r\n  const dispatch = useDispatch();\r\n  const book = useSelector((state) => state.books.openedBook.data);\r\n  const loadingBook = useSelector((state) => state.books.openedBook.isLoading);\r\n  const [countValue, setCountValue] = useState(1);\r\n  const [totalPrice, setTotalPrice] = useState(book.price);\r\n  const [isSuccessTextShown, setIsSuccessTextShown] = useState(false);\r\n  let timer;\r\n\r\n  useEffect(() => {\r\n    if (book.id !== id) {\r\n      dispatch(loadBook(id));\r\n    }\r\n  }, [id]);\r\n\r\n  useEffect(() => {\r\n    setTotalPrice(book.price);\r\n  }, [book]);\r\n\r\n  useEffect(() => () => {\r\n    clearTimeout(timer);\r\n  }, [book]);\r\n\r\n  const convertTagsToString = (tags) => (tags\r\n    ? tags.map((tag) => tag.charAt(0).toUpperCase() + tag.slice(1)).join(', ')\r\n    : '');\r\n\r\n  const countTotalPrice = (price, count) => Number((price * count).toFixed(2));\r\n\r\n  const isCountValid = (value) => value > 0 && value < 1000;\r\n\r\n  const changeCount = (e) => {\r\n    const { value } = e.target;\r\n    const numericValue = Number(value);\r\n\r\n    if (isCountValid(numericValue)) {\r\n      setCountValue(numericValue);\r\n      setTotalPrice(countTotalPrice(book.price, numericValue));\r\n    }\r\n  };\r\n\r\n  const addToCart = (e) => {\r\n    e.preventDefault();\r\n    setIsSuccessTextShown(false);\r\n\r\n    dispatch(addBookToCart({\r\n      id: book.id,\r\n      title: book.title,\r\n      price: book.price,\r\n      count: countValue,\r\n      totalPrice,\r\n    }));\r\n\r\n    setCountValue(1);\r\n    setTotalPrice(book.price);\r\n    setIsSuccessTextShown(true);\r\n    timer = setTimeout(() => setIsSuccessTextShown(false), 3000);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Header />\r\n      <div className=\"wrapper\">\r\n        { loadingBook\r\n          ? <Loader />\r\n          : (\r\n            <div className=\"book-details\">\r\n              <div className=\"book-info\">\r\n                <div className=\"book-info__col\">\r\n                  <img className=\"book-info__image\" src={book.cover} alt=\"book cover\" />\r\n                  <p>{book.description}</p>\r\n                </div>\r\n                <div className=\"book-info__col\">\r\n                  <h5>{book.title}</h5>\r\n                  <p className=\"text-muted\">{book.author}</p>\r\n                  <div>\r\n                    <TagsIcon className=\"mr-2\" />\r\n                    {convertTagsToString(book.tags)}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <Form className=\"book-buy\" onSubmit={addToCart}>\r\n                <Form.Group as={Row}>\r\n                  <Form.Label column>\r\n                    Price, $:\r\n                  </Form.Label>\r\n                  <Form.Label className=\"text-right\" column>\r\n                    {book.price}\r\n                  </Form.Label>\r\n                </Form.Group>\r\n                <Form.Group as={Row}>\r\n                  <Form.Label column xs=\"8\">Count:</Form.Label>\r\n                  <Col xs=\"4\">\r\n                    <Form.Control\r\n                      className=\"book-count-select\"\r\n                      value={countValue}\r\n                      onChange={changeCount}\r\n                      type=\"number\"\r\n                      min=\"1\"\r\n                      size=\"sm\"\r\n                    />\r\n                  </Col>\r\n                </Form.Group>\r\n                <Form.Group as={Row}>\r\n                  <Form.Label column>Total price, $:</Form.Label>\r\n                  <Form.Label className=\"text-right\" column>{totalPrice}</Form.Label>\r\n                </Form.Group>\r\n                { isSuccessTextShown && (\r\n                <Form.Text className=\"text-success text-center mb-4\">\r\n                  Item was successfully added to the cart.\r\n                </Form.Text>\r\n                )}\r\n                <div className=\"book-add-button\">\r\n                  <Button variant=\"secondary\" type=\"submit\" size=\"sm\" disabled={isSuccessTextShown}>Add To Cart</Button>\r\n                </div>\r\n              </Form>\r\n            </div>\r\n          )}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default BookDetails;\r\n","import React from 'react';\r\nimport { Table } from 'react-bootstrap';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst CartItemsTable = ({ items, totalPrice }) => (\r\n  <>\r\n    <Table striped bordered hover className=\"mb-4\">\r\n      <thead>\r\n        <tr>\r\n          <th>Name</th>\r\n          <th>Count</th>\r\n          <th>Price</th>\r\n          <th>Total</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        { items.map((item) => (\r\n          <tr key={item.id}>\r\n            <td>{item.title}</td>\r\n            <td>{item.count}</td>\r\n            <td>{item.price}</td>\r\n            <td>{item.totalPrice}</td>\r\n          </tr>\r\n        ))}\r\n      </tbody>\r\n    </Table>\r\n    <p className=\"text-right\">{`Total price:  ${totalPrice} $ `}</p>\r\n  </>\r\n);\r\n\r\nCartItemsTable.propTypes = {\r\n  items: PropTypes.arrayOf(PropTypes.shape({\r\n    id: PropTypes.string,\r\n    title: PropTypes.string,\r\n    price: PropTypes.number,\r\n    count: PropTypes.number,\r\n    totalPrice: PropTypes.number,\r\n  })).isRequired,\r\n  totalPrice: PropTypes.number.isRequired,\r\n};\r\n\r\nexport default CartItemsTable;\r\n","import React from 'react';\r\nimport { Button, Modal } from 'react-bootstrap';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst PurchaseModal = ({ children, onClose }) => (\r\n  <Modal show backdrop=\"static\" keyboard={false} onHide={onClose}>\r\n    <Modal.Header closeButton>\r\n      <Modal.Title>Purchase Successful</Modal.Title>\r\n    </Modal.Header>\r\n\r\n    <Modal.Body>\r\n      <p className=\"mb-5\">You successfully placed an order!</p>\r\n      {children}\r\n    </Modal.Body>\r\n\r\n    <Modal.Footer>\r\n      <Button variant=\"secondary\" onClick={onClose}>Close</Button>\r\n    </Modal.Footer>\r\n  </Modal>\r\n);\r\n\r\nPurchaseModal.propTypes = {\r\n  children: PropTypes.func.isRequired,\r\n  onClose: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default React.memo(PurchaseModal);\r\n","import Cart from './Cart';\n\nexport default Cart;\n","import React from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Button } from 'react-bootstrap';\r\nimport { CartFill as CartIcon } from 'react-bootstrap-icons';\r\nimport { clearCart, hideModal, purchase } from '../../store/cart/actions';\r\nimport CartItemsTable from '../../components/CartItemsTable/CartItemsTable';\r\nimport Header from '../Header';\r\nimport PurchaseModal from '../../components/PurchaseModal/PurchaseModal';\r\nimport './styles.scss';\r\n\r\nconst Cart = () => {\r\n  const dispatch = useDispatch();\r\n  const cartItems = useSelector((state) => state.cart.data);\r\n  const totalOrderPrice = useSelector((state) => state.cart.totalPrice);\r\n  const isModalShown = useSelector((state) => state.cart.isModalShown);\r\n\r\n  const onPurchase = () => {\r\n    dispatch(purchase(cartItems));\r\n  };\r\n\r\n  const onCloseModal = () => {\r\n    dispatch(hideModal());\r\n    dispatch(clearCart());\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Header />\r\n      { cartItems && cartItems.length\r\n        ? (\r\n          <div className=\"wrapper\">\r\n            <div className=\"purchase-button-container\">\r\n              <Button variant=\"secondary\" onClick={onPurchase}>Purchase</Button>\r\n            </div>\r\n            <CartItemsTable items={cartItems} totalPrice={totalOrderPrice} />\r\n          </div>\r\n        )\r\n        : (\r\n          <div className=\"wrapper empty-cart-container\">\r\n            <CartIcon className=\"cart-icon\" />\r\n            <p>Your shopping cart is empty</p>\r\n          </div>\r\n        )}\r\n      { isModalShown && (\r\n      <PurchaseModal onClose={onCloseModal}>\r\n        <CartItemsTable items={cartItems} totalPrice={totalOrderPrice} />\r\n      </PurchaseModal>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Cart;\r\n","import Login from './Login';\n\nexport default Login;\n","import React, { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\nimport { Button, Form } from 'react-bootstrap';\nimport { logIn } from '../../store/auth/actions';\nimport { MAX_USERNAME_LENGTH, MIN_USERNAME_LENGTH } from '../../constants';\nimport userImage from '../../assets/images/user-image.png';\nimport './styles.scss';\n\nconst Login = () => {\n  const dispatch = useDispatch();\n  const token = useSelector((state) => state.auth.token);\n  const isLoading = useSelector((state) => state.auth.isLoading);\n  const [username, setUsername] = useState('');\n  const [validationError, setValidationError] = useState(false);\n\n  const isUserNameValid = (data) => {\n    const string = data.trim();\n    return (string.length >= MIN_USERNAME_LENGTH && string.length <= MAX_USERNAME_LENGTH);\n  };\n\n  const submitLogIn = (e) => {\n    e.preventDefault();\n\n    if (isUserNameValid(username)) {\n      dispatch(logIn(username));\n    } else {\n      setValidationError(true);\n    }\n  };\n\n  const onInputChange = (e) => {\n    const inputValue = e.target.value;\n    setUsername(inputValue);\n    setValidationError(!isUserNameValid(inputValue));\n  };\n\n  return token\n    ? <Redirect to=\"/catalog\" />\n    : (\n      <div className=\"login-form-container wrapper\">\n        <Form className=\"login-form\" onSubmit={submitLogIn}>\n          <img className=\"w-100 mb-4\" src={userImage} alt=\"user\" />\n          <h2 className=\"text-center mb-5\">JS Band Store</h2>\n          <Form.Group className=\"d-block\">\n            <Form.Label>Name</Form.Label>\n            <Form.Control\n              className={`login-form__input ${validationError ? 'is-invalid' : ''}`}\n              type=\"text\"\n              placeholder=\"Enter username\"\n              onChange={onInputChange}\n            />\n            { validationError && (\n            <Form.Text className=\"text-danger\">\n              Username is not valid. Username should be 4-16 characters long.\n            </Form.Text>\n            )}\n          </Form.Group>\n          <Button className=\"w-100\" disabled={isLoading} variant=\"secondary\" type=\"submit\">\n            Log In\n          </Button>\n        </Form>\n      </div>\n    );\n};\n\nexport default Login;\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAgMAAACJFjxpAAAADFBMVEXFxcX////p6enW1tbAmiBwAAAFiElEQVR4AezAgQAAAACAoP2pF6kAAAAAAAAAAAAAAIDbu2MkvY0jiuMWWQoUmI50BB+BgRTpCAz4G6C8CJDrC3AEXGKPoMTlYA/gAJfwETawI8cuBs5Nk2KtvfiLW+gLfK9m+r3X82G653+JP/zjF8afP1S//y+An4/i51//AsB4aH+/QPD6EQAY/zwZwN8BAP50bh786KP4+VT+3fs4/noigEc+jnHeJrzxX+NWMDDh4g8+EXcnLcC9T8U5S/CdT8bcUeBEIrwBOiI8ki7Ba5+NrePgWUy89/nYyxQ8Iw3f+pWY4h1gb3eAW7sDTPEOsLc7wK1TIeDuDB+I/OA1QOUHv/dFsZQkhKkh4QlEfOULYz2nGj2/Nn1LmwR/86VxlCoAW6kCsHRGANx1RgCMo5Qh2EsZgrXNQZZShp5Liv7Il8eIc5C91EHY2hxk6bwYmNscZIReDBwtCdhbErC1JGBpScBcOgFMLQsZMQs5Whayd+UQsLYsZGlZyNyykKllISNmIUfAwifw8NXvTojAjGFrdYi11SGWVoeYWx1i6lmQCiEjFkKOVgjZ+xxIhZCtFULWHkCqxCw9gNQKmP9vNHzipdEPrRcxtVbAeDkAvve0iM2QozVD9hfjhp4YP/UrkJYDbD2AtBxgfSkAvvHEeNcDSAsilgtAWxIy91J8AXgZAJ5e33+4tuACcAG4AFwALgBXRXQB6AFcB5MXAuA6nl9/0Vx/011/1V5/1/dfTPJvRtdnu/zL6beeFO/7r+fXBYbrEkt/j+i6ytXfpuvvE/ZXOnsA/a3a/l5xf7O6v1t+Xe/vOyz6HpO8yyboM8o7rfJes77bru83THk48p7TvOs27zvOO6/73vO++z7l4cgnMPQzKPopHC0N9noSSz6LJp/Gk88jyicy5TOp6qlc+VyyfDJbPpuuns6XzyfMJzTmMyrrKZ35nNJ8Ums+q7af1tvPK+4nNodEnPKp3fnc8npyez67/qVP7+/fL8hfcMjfsOhf8cjfMclfcnn9+BkOnLECP8Q58OYeyJ40eoyF6Ee/En/JHlP6mIlRVXprF4BxtAvArV0AxtEuALd2ARhHuwDc2gVgHPX/hFv9fMBddjIGeKg/WCxlCsI46u+Ga5mCcJd+sIG9UkGAW32ZbApFAHhod4Bb3eo04h3god0BbiUHYApVCNjbHeBW+QDAXT4a7qg7r7e214057vg0QhkEHkoSwq0kIdydXw4/Q3H8hjYJ3vL0WConBJhCHQaOToeBrU0BljYFmEoVgHGUKgAPnREAt84IgLuqFgAYSUEOAHszDwuAtSkHAZhLGYIpdCLgKGUIHtocZG1zkLmUIRhxDnJU1RDA1uYga5uDzKUOwhTnIEfnxcDe5iBrcyQAYGlzkKkUYhhxDrKXQgxbSwLWUohhbknA1JKAEZOAvSUBW0sC1pYEzC0JmFoSMMJyCDhaFrK3JGDtyiFgaVnI3LKQqWUhI2YhR8tC9paFrC0LWVoWMrcsZGpZyIhZyNGykL2rSIGtlQHWVgZYWhlgbmWAqZUBRiwDHK0MsLcywNbKAGsOoNUhllaHmFsdYmp1iBHrEEerQ+w5gFYI2VodYm11iKXVIeYcQCuETK0QMmIh5MgBtELI3gohWyuErDmAVolZWiFkzgG0SszUKjGjfj6gVmKOVonZcwCtFbB9HQC+ozWDbz1bvGu9iKW1AuYcQOtFTLEX1GbIaFegN0OOHEBrhuw5gNYM2XIArRuz5gDacoB3bTnAEktxXQ4wfw0AvveM8b4tiJjSJOwLIsbXsAKeNeKCiOO3D+AVbUl0AfjGs8ZPbUnIdgFoa1LWC0BblfMuB9AeC1j6gqQE0J9LmC8AOYD2ZMb7i4bt2ZTpWoHfPoB7Tj2fXzT8N1X41vkq/QHOAAAAAElFTkSuQmCC\"","export default __webpack_public_path__ + \"static/media/gandalf.0781757b.png\";","import NotFound from './NotFound';\n\nexport default NotFound;\n","import React from 'react';\nimport './styles.scss';\nimport notFoundImage from '../../assets/images/gandalf.png';\n\nconst NotFound = () => (\n  <div className=\"not-found wrapper\">\n    <img src={notFoundImage} alt=\"gandalf not found\" />\n    <div className=\"message\">\n      <h1 className=\"mb-4\">404 - You Shall Not Pass</h1>\n      <p>\n        Uh oh, Gandalf is blocking the way!\n        <span className=\"d-block\">Maybe you have a typo in the url? Or you meant to go to a different location?</span>\n      </p>\n    </div>\n  </div>\n);\n\nexport default NotFound;\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nconst ProtectedRoute = ({\n  component: Component,\n  token,\n  exact,\n  path,\n}) => (\n  <Route exact={exact} path={path}>\n    { token\n      ? <Component />\n      : <Redirect to=\"/login\" />}\n  </Route>\n);\n\nProtectedRoute.defaultProps = { exact: false };\n\nProtectedRoute.propTypes = {\n  component: PropTypes.func.isRequired,\n  token: PropTypes.string.isRequired,\n  exact: PropTypes.bool,\n  path: PropTypes.string.isRequired,\n};\n\nexport default ProtectedRoute;\n","import ProtectedRoute from './ProtectedRoute';\n\nexport default ProtectedRoute;\n","import React from 'react';\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Redirect,\r\n} from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\nimport BookCatalog from './containers/BookCatalog';\r\nimport BookDetails from './containers/BookDetails';\r\nimport Cart from './containers/Cart';\r\nimport Login from './containers/Login';\r\nimport NotFound from './components/NotFound';\r\nimport ProtectedRoute from './components/ProtectedRoute';\r\nimport './App.scss';\r\n\r\nconst App = () => {\r\n  const token = useSelector((state) => state.auth.token);\r\n\r\n  return (\r\n    <Router basename={process.env.PUBLIC_URL}>\r\n      <Switch>\r\n        <ProtectedRoute exact path=\"/catalog\" component={BookCatalog} token={token} />\r\n        <ProtectedRoute exact path=\"/catalog/:id\" component={BookDetails} token={token} />\r\n        <ProtectedRoute exact path=\"/cart\" component={Cart} token={token} />\r\n        <Route exact path=\"/not-found\" component={NotFound} />\r\n        <Route exact path=\"/login\" component={Login} />\r\n        <Route exact path=\"/\">\r\n          <Redirect to=\"/catalog\" />\r\n        </Route>\r\n        <Route>\r\n          <Redirect to=\"/not-found\" />\r\n        </Route>\r\n      </Switch>\r\n    </Router>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport store from './store';\nimport App from './App';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}