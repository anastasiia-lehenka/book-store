{"version":3,"sources":["store/books/types.js","store/books/reducer.js","store/rootReducer.js","service.js","constants.js","store/books/actions.js","store/books/saga.js","store/rootSaga.js","store/index.js","components/BookItem/index.js","components/BookItem/BookItem.jsx","components/FilterDropdown/FilterDropdown.jsx","components/FilterDropdown/index.js","components/Header/index.js","components/Header/Header.jsx","components/Loader/index.js","components/Loader/Loader.jsx","components/Search/Search.jsx","components/Search/index.js","containers/BookCatalog/index.js","containers/BookCatalog/BookCatalog.jsx","containers/BookDetails/index.js","containers/BookDetails/BookDetails.jsx","App.jsx","index.jsx"],"names":["LOAD_ALL_BOOKS","LOAD_ALL_BOOKS_FAILURE","LOAD_ALL_BOOKS_SUCCESS","LOAD_BOOK","LOAD_BOOK_FAILURE","LOAD_BOOK_SUCCESS","SET_BOOKS_SEARCH","SET_BOOKS_FILTER","initialState","data","isLoading","error","search","filter","openedBook","reducer","state","action","type","payload","rootReducer","combineReducers","books","booksReducer","service","getAllBooks","a","sendHttpRequest","method","entity","booksEntity","getBook","id","Service","instance","this","url","purchaseEntity","signInEntity","token","fetch","body","JSON","stringify","headers","Authorization","response","json","parsedResponse","ok","message","status","Error","Object","freeze","loadAllBooksSuccess","loadBookSuccess","loadBookFailure","loadAllBooksWorker","loadBookWorker","call","put","book","rootSaga","takeEvery","configureStore","sagaMiddleware","createSagaMiddleware","store","createStore","compose","applyMiddleware","window","__REDUX_DEVTOOLS_EXTENSION__","f","run","BookItem","bookData","Card","className","Img","variant","src","cover","alt","Body","Title","title","Subtitle","author","Footer","price","to","Button","size","FilterDropdown","value","onChange","Form","Label","Control","as","e","target","React","memo","Header","Loader","Spinner","animation","Search","defaultValue","onSearch","useState","setValue","onSubmit","preventDefault","InputGroup","Prepend","FormControl","placeholder","BookCatalog","dispatch","useDispatch","useSelector","loadingBooks","searchText","filterValue","useEffect","length","booksData","useCallback","toLowerCase","trim","onFilter","borderValues","split","filterBooks","includes","searchBooks","map","BookDetails","useParams","loadingBook","countValue","setCountValue","count","tags","description","tag","charAt","toUpperCase","slice","join","toFixed","App","basename","process","exact","path","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e373dc73.chunk.js","sourcesContent":["export const LOAD_ALL_BOOKS = 'LOAD_ALL_BOOKS';\nexport const LOAD_ALL_BOOKS_FAILURE = 'LOAD_ALL_BOOKS_FAILURE';\nexport const LOAD_ALL_BOOKS_SUCCESS = 'LOAD_ALL_BOOKS_SUCCESS';\nexport const LOAD_BOOK = 'LOAD_BOOK';\nexport const LOAD_BOOK_FAILURE = 'LOAD_BOOK_FAILURE';\nexport const LOAD_BOOK_SUCCESS = 'LOAD_BOOK_SUCCESS';\nexport const SET_BOOKS_SEARCH = 'SET_BOOKS_SEARCH';\nexport const SET_BOOKS_FILTER = 'SET_BOOKS_FILTER';\n","import {\r\n  LOAD_ALL_BOOKS,\r\n  LOAD_ALL_BOOKS_SUCCESS,\r\n  LOAD_ALL_BOOKS_FAILURE,\r\n  LOAD_BOOK,\r\n  LOAD_BOOK_SUCCESS,\r\n  LOAD_BOOK_FAILURE,\r\n  SET_BOOKS_FILTER,\r\n  SET_BOOKS_SEARCH,\r\n} from './types';\r\n\r\nconst initialState = {\r\n  data: [],\r\n  isLoading: false,\r\n  error: '',\r\n  search: '',\r\n  filter: 'All',\r\n  openedBook: {\r\n    data: {},\r\n    isLoading: false,\r\n    error: '',\r\n  },\r\n};\r\n\r\nconst reducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case LOAD_ALL_BOOKS:\r\n      return {\r\n        ...state,\r\n        isLoading: true,\r\n        error: '',\r\n      };\r\n\r\n    case LOAD_ALL_BOOKS_SUCCESS:\r\n      return {\r\n        ...state,\r\n        data: action.payload,\r\n        isLoading: false,\r\n        error: '',\r\n      };\r\n\r\n    case LOAD_ALL_BOOKS_FAILURE:\r\n      return {\r\n        ...state,\r\n        data: [],\r\n        isLoading: false,\r\n        error: action.payload,\r\n      };\r\n\r\n    case LOAD_BOOK:\r\n      return {\r\n        ...state,\r\n        openedBook: {\r\n          ...state.openedBook,\r\n          data: [],\r\n          isLoading: true,\r\n          error: '',\r\n        },\r\n      };\r\n\r\n    case LOAD_BOOK_SUCCESS:\r\n      return {\r\n        ...state,\r\n        openedBook: {\r\n          data: action.payload,\r\n          isLoading: false,\r\n          error: '',\r\n        },\r\n      };\r\n\r\n    case LOAD_BOOK_FAILURE:\r\n      return {\r\n        ...state,\r\n        openedBook: {\r\n          data: [],\r\n          isLoading: false,\r\n          error: action.payload,\r\n        },\r\n      };\r\n\r\n    case SET_BOOKS_SEARCH:\r\n      return {\r\n        ...state,\r\n        search: action.payload,\r\n      };\r\n\r\n    case SET_BOOKS_FILTER:\r\n      return {\r\n        ...state,\r\n        filter: action.payload,\r\n      };\r\n\r\n    default: return state;\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n","import { combineReducers } from 'redux';\r\nimport booksReducer from './books/reducer';\r\n\r\nconst rootReducer = combineReducers({\r\n  books: booksReducer,\r\n});\r\n\r\nexport default rootReducer;\r\n","import { SERVER_URL } from './constants';\r\n\r\nclass Service {\r\n  constructor() {\r\n    if (!Service.instance) {\r\n      this.url = SERVER_URL;\r\n      this.booksEntity = 'books';\r\n      this.purchaseEntity = 'purchase';\r\n      this.signInEntity = 'signin';\r\n      Service.instance = this;\r\n    }\r\n\r\n    return Service.instance;\r\n  }\r\n\r\n  async sendHttpRequest({\r\n    method,\r\n    entity,\r\n    data,\r\n    token = '88qx7gky0ij666d2ucy3w',\r\n  }) {\r\n    const response = await fetch(`${this.url}/${entity}`, {\r\n      method,\r\n      body: JSON.stringify(data),\r\n      headers: token\r\n        ? { Authorization: `Bearer ${token}` }\r\n        : { 'Content-Type': 'application/json' },\r\n    });\r\n\r\n    const parsedResponse = await response.json();\r\n\r\n    if (!response.ok) {\r\n      const message = `${response.status}. ${parsedResponse.message}`;\r\n      throw new Error(message);\r\n    }\r\n\r\n    return parsedResponse;\r\n  }\r\n\r\n  getAllBooks = async () => this.sendHttpRequest({\r\n    method: 'GET',\r\n    entity: this.booksEntity,\r\n  });\r\n\r\n  getBook = async (id) => this.sendHttpRequest({\r\n    method: 'GET',\r\n    entity: `${this.booksEntity}/${id}`,\r\n  });\r\n}\r\n\r\nconst service = new Service();\r\nObject.freeze(service);\r\nexport default service;\r\n","// eslint-disable-next-line import/prefer-default-export\r\nexport const SERVER_URL = 'https://js-band-store-api.glitch.me';\r\n","import {\n  LOAD_ALL_BOOKS,\n  LOAD_ALL_BOOKS_FAILURE,\n  LOAD_ALL_BOOKS_SUCCESS,\n  LOAD_BOOK,\n  LOAD_BOOK_FAILURE,\n  LOAD_BOOK_SUCCESS,\n  SET_BOOKS_SEARCH,\n  SET_BOOKS_FILTER,\n} from './types';\n\nexport const loadAllBooks = () => ({ type: LOAD_ALL_BOOKS });\nexport const loadAllBooksSuccess = (payload) => ({ type: LOAD_ALL_BOOKS_SUCCESS, payload });\nexport const loadAllBooksFailure = (payload) => ({ type: LOAD_ALL_BOOKS_FAILURE, payload });\nexport const loadBook = (payload) => ({ type: LOAD_BOOK, payload });\nexport const loadBookSuccess = (payload) => ({ type: LOAD_BOOK_SUCCESS, payload });\nexport const loadBookFailure = (payload) => ({ type: LOAD_BOOK_FAILURE, payload });\nexport const setBooksSearch = (payload) => ({ type: SET_BOOKS_SEARCH, payload });\nexport const setBooksFilter = (payload) => ({ type: SET_BOOKS_FILTER, payload });\n","import { call, put } from 'redux-saga/effects';\r\nimport service from '../../service';\r\nimport {\r\n  loadAllBooksSuccess,\r\n  loadAllBooksFailure,\r\n  loadBookSuccess,\r\n  loadBookFailure,\r\n} from './actions';\r\n\r\nexport function* loadAllBooksWorker() {\r\n  let books;\r\n\r\n  try {\r\n    books = yield call(service.getAllBooks);\r\n  } catch (err) {\r\n    yield put(loadAllBooksFailure(err.message));\r\n    return;\r\n  }\r\n\r\n  yield put(loadAllBooksSuccess(books));\r\n}\r\n\r\nexport function* loadBookWorker({ payload }) {\r\n  let book;\r\n\r\n  try {\r\n    book = yield call(service.getBook, payload);\r\n  } catch (err) {\r\n    yield put(loadBookFailure(err.message));\r\n    return;\r\n  }\r\n\r\n  yield put(loadBookSuccess(book));\r\n}\r\n","import { takeEvery } from 'redux-saga/effects';\r\nimport { loadAllBooksWorker, loadBookWorker } from './books/saga';\r\nimport { LOAD_ALL_BOOKS, LOAD_BOOK } from './books/types';\r\n\r\nfunction* rootSaga() {\r\n  yield takeEvery(LOAD_ALL_BOOKS, loadAllBooksWorker);\r\n  yield takeEvery(LOAD_BOOK, loadBookWorker);\r\n}\r\n\r\nexport default rootSaga;\r\n","/* eslint-disable no-underscore-dangle */\nimport {\n  createStore,\n  applyMiddleware,\n  compose,\n} from 'redux';\nimport createSagaMiddleware from 'redux-saga';\nimport rootReducer from './rootReducer';\nimport rootSaga from './rootSaga';\n\nconst configureStore = () => {\n  const sagaMiddleware = createSagaMiddleware();\n  const store = createStore(\n    rootReducer,\n    compose(\n      applyMiddleware(sagaMiddleware),\n      window.__REDUX_DEVTOOLS_EXTENSION__\n        ? window.__REDUX_DEVTOOLS_EXTENSION__()\n        : (f) => f,\n    ),\n  );\n\n  sagaMiddleware.run(rootSaga);\n  return store;\n};\n\nexport default configureStore();\n","import BookItem from './BookItem';\n\nexport default BookItem;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { Card, Button } from 'react-bootstrap';\nimport PropTypes from 'prop-types';\nimport './styles.scss';\n\nconst BookItem = ({ bookData }) => (\n  <Card className=\"book-card\">\n    <Card.Img className=\"book-card__image\" variant=\"top\" src={bookData.cover} alt=\"book cover\" />\n    <Card.Body className=\"book-card__body\">\n      <Card.Title>{bookData.title}</Card.Title>\n      <Card.Subtitle className=\"mb-2 text-muted\">{bookData.author}</Card.Subtitle>\n    </Card.Body>\n    <Card.Footer className=\"book-card__footer\">\n      {/* eslint-disable-next-line react/jsx-one-expression-per-line */}\n      <p className=\"m-0\">{bookData.price}$</p>\n      <Link to={`/catalog/${bookData.id}`}>\n        <Button variant=\"outline-secondary\" size=\"sm\">View</Button>\n      </Link>\n    </Card.Footer>\n  </Card>\n);\n\nBookItem.propTypes = {\n  bookData: PropTypes.shape({\n    id: PropTypes.string,\n    title: PropTypes.string,\n    author: PropTypes.string,\n    level: PropTypes.string,\n    description: PropTypes.string,\n    cover: PropTypes.string,\n    tags: PropTypes.arrayOf(PropTypes.string),\n    price: PropTypes.number,\n    count: PropTypes.number,\n  }).isRequired,\n};\n\nexport default BookItem;\n","import React from 'react';\nimport { Form } from 'react-bootstrap';\nimport PropTypes from 'prop-types';\nimport './styles.scss';\n\nconst FilterDropdown = ({ value, onChange }) => (\n  <div className=\"filter\">\n    <Form.Label className=\"mb-0 mr-3\">Price:</Form.Label>\n    <Form.Control className=\"filter__dropdown\" as=\"select\" value={value} onChange={(e) => onChange(e.target.value)}>\n      <option value=\"All\">All</option>\n      <option value=\"0-25\">0-25$</option>\n      <option value=\"25-50\">25-50$</option>\n      <option value=\"50\">50+$</option>\n    </Form.Control>\n  </div>\n);\n\nFilterDropdown.propTypes = {\n  onChange: PropTypes.func.isRequired,\n  value: PropTypes.string.isRequired,\n};\n\nexport default React.memo(FilterDropdown);\n","import FilterDropdown from './FilterDropdown';\n\nexport default FilterDropdown;\n","import Header from './Header';\r\n\r\nexport default Header;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Button } from 'react-bootstrap';\r\nimport { CartFill as CartIcon } from 'react-bootstrap-icons';\r\nimport './styles.scss';\r\n\r\nconst Header = () => (\r\n  <div className=\"mb-5\">\r\n    <div className=\"wrapper\">\r\n      <div className=\"header__auth-data\">\r\n        <span className=\"mr-3\">Alexander</span>\r\n        <Button variant=\"outline-danger\" size=\"sm\">Sign out</Button>\r\n      </div>\r\n    </div>\r\n    <div className=\"header__bordered\">\r\n      <div className=\"wrapper\">\r\n        <div className=\"header__main\">\r\n          <h3>JS Band Store</h3>\r\n          <Link to=\"/\">\r\n            <CartIcon className=\"header__cart-icon\" />\r\n            <span className=\"mr-1\">Cart (3)</span>\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n);\r\n\r\nexport default Header;\r\n","import Loader from './Loader';\n\nexport default Loader;\n","import React from 'react';\nimport { Spinner } from 'react-bootstrap';\n\nconst Loader = () => (\n  <div className=\"pt-5 text-center\">\n    <Spinner animation=\"border\" variant=\"secondary\" size=\"lg\" />\n  </div>\n);\n\nexport default Loader;\n","import React, { useState } from 'react';\nimport {\n  InputGroup, Button, FormControl, Form,\n} from 'react-bootstrap';\nimport { Search as SearchIcon } from 'react-bootstrap-icons';\nimport PropTypes from 'prop-types';\nimport './styles.scss';\n\nconst Search = ({ defaultValue, onSearch }) => {\n  const [value, setValue] = useState(defaultValue);\n\n  const onSubmit = (e) => {\n    e.preventDefault();\n    onSearch(value);\n  };\n\n  return (\n    <Form className=\"search\" onSubmit={onSubmit}>\n      <InputGroup>\n        <InputGroup.Prepend>\n          <Button className=\"search__button\" type=\"submit\" variant=\"outline-secondary\">\n            <SearchIcon />\n          </Button>\n        </InputGroup.Prepend>\n        <FormControl\n          className=\"search__input\"\n          value={value}\n          onChange={(e) => setValue(e.target.value)}\n          placeholder=\"Search\"\n        />\n      </InputGroup>\n    </Form>\n  );\n};\n\nSearch.propTypes = {\n  onSearch: PropTypes.func.isRequired,\n  defaultValue: PropTypes.string.isRequired,\n};\n\nexport default React.memo(Search);\n","import Search from './Search';\n\nexport default Search;\n","import BookCatalog from './BookCatalog';\n\nexport default BookCatalog;\n","import React, { useEffect, useCallback } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { loadAllBooks, setBooksFilter, setBooksSearch } from '../../store/books/actions';\r\nimport BookItem from '../../components/BookItem';\r\nimport FilterDropdown from '../../components/FilterDropdown';\r\nimport Header from '../../components/Header';\r\nimport Loader from '../../components/Loader';\r\nimport Search from '../../components/Search';\r\nimport './styles.scss';\r\n\r\nconst BookCatalog = () => {\r\n  const dispatch = useDispatch();\r\n  const books = useSelector((state) => state.books.data);\r\n  const loadingBooks = useSelector((state) => state.books.isLoading);\r\n  const searchText = useSelector((state) => state.books.search);\r\n  const filterValue = useSelector((state) => state.books.filter);\r\n\r\n  useEffect(() => {\r\n    if (!books.length) {\r\n      dispatch(loadAllBooks());\r\n    }\r\n  }, []);\r\n\r\n  const onSearch = useCallback((value) => {\r\n    dispatch(setBooksSearch(value.toLowerCase().trim()));\r\n  }, []);\r\n\r\n  const onFilter = useCallback((value) => {\r\n    dispatch(setBooksFilter(value));\r\n  }, []);\r\n\r\n  const searchBooks = (booksData, search) => (\r\n    booksData.filter((book) => book.title.toLowerCase().includes(search)));\r\n\r\n  const filterBooks = (booksData, filter) => {\r\n    if (filter !== 'All') {\r\n      const borderValues = filter.split('-');\r\n      return borderValues[1]\r\n        ? booksData.filter((book) => book.price > borderValues[0] && book.price < borderValues[1])\r\n        : booksData.filter((book) => book.price > borderValues[0]);\r\n    }\r\n\r\n    return booksData;\r\n  };\r\n\r\n  const renderBooks = (booksData) => (\r\n    booksData.length\r\n      ? (\r\n        <div className=\"books-container\">\r\n          { booksData.map((book) => <BookItem key={book.id} bookData={book} />)}\r\n        </div>\r\n      )\r\n      : <p className=\"text-muted pt-5 text-center\">No items match your search</p>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <Header />\r\n      <div className=\"wrapper\">\r\n        <div className=\"filters\">\r\n          <Search defaultValue={searchText} onSearch={onSearch} />\r\n          <FilterDropdown value={filterValue} onChange={onFilter} />\r\n        </div>\r\n        { loadingBooks\r\n          ? <Loader />\r\n          : (books.length\r\n            && renderBooks(filterBooks(searchBooks(books, searchText), filterValue))\r\n          )}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default BookCatalog;\r\n","import BookDetails from './BookDetails';\n\nexport default BookDetails;\n","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useParams } from 'react-router-dom';\r\nimport { Button, Form } from 'react-bootstrap';\r\nimport { TagsFill as TagsIcon } from 'react-bootstrap-icons';\r\nimport { loadBook } from '../../store/books/actions';\r\nimport Header from '../../components/Header';\r\nimport Loader from '../../components/Loader';\r\nimport './styles.scss';\r\n\r\nconst BookDetails = () => {\r\n  const { id } = useParams();\r\n  const dispatch = useDispatch();\r\n  const book = useSelector((state) => state.books.openedBook.data);\r\n  const loadingBook = useSelector((state) => state.books.openedBook.isLoading);\r\n  const [countValue, setCountValue] = useState(1);\r\n\r\n  useEffect(() => {\r\n    if (book.id !== id) {\r\n      dispatch(loadBook(id));\r\n    }\r\n  }, [id]);\r\n\r\n  const convertTagsToString = (tags) => (tags\r\n    ? tags.map((tag) => tag.charAt(0).toUpperCase() + tag.slice(1)).join(', ')\r\n    : '');\r\n\r\n  const countTotalPrice = (price, count) => (price * count).toFixed(2);\r\n\r\n  const changeCount = (e) => {\r\n    const { value } = e.target;\r\n    if (value < 1000) {\r\n      setCountValue(e.target.value);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Header />\r\n      <div className=\"wrapper\">\r\n        { loadingBook\r\n          ? <Loader />\r\n          : (\r\n            <div className=\"book-details\">\r\n              <div className=\"book-info\">\r\n                <div className=\"book-info__col\">\r\n                  <img className=\"book-info__image\" src={book.cover} alt=\"book cover\" />\r\n                  <p>{book.description}</p>\r\n                </div>\r\n                <div className=\"book-info__col\">\r\n                  <h5>{book.title}</h5>\r\n                  <p className=\"text-muted\">{book.author}</p>\r\n                  <div>\r\n                    <TagsIcon className=\"mr-2\" />\r\n                    {convertTagsToString(book.tags)}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"book-buy\">\r\n                <div className=\"book-buy__col\">\r\n                  <p>Price, $:</p>\r\n                  <p>{book.price}</p>\r\n                </div>\r\n                <div className=\"book-buy__col\">\r\n                  <p>Count:</p>\r\n                  <Form.Control\r\n                    className=\"book-count-select\"\r\n                    value={countValue}\r\n                    onChange={changeCount}\r\n                    type=\"number\"\r\n                    size=\"sm\"\r\n                  />\r\n                </div>\r\n                <div className=\"book-buy__col\">\r\n                  <p>Total price, $:</p>\r\n                  <p>{countTotalPrice(book.price, countValue)}</p>\r\n                </div>\r\n                <div className=\"book-add-button\">\r\n                  <Button variant=\"secondary\" size=\"sm\">Add To Cart</Button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default BookDetails;\r\n","import React from 'react';\r\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\r\nimport BookCatalog from './containers/BookCatalog';\r\nimport BookDetails from './containers/BookDetails';\r\nimport './App.scss';\r\n\r\nconst App = () => (\r\n  <Router basename={process.env.PUBLIC_URL}>\r\n    <Switch>\r\n      <Route exact path=\"/catalog\" component={BookCatalog} />\r\n      <Route exact path=\"/catalog/:id\" component={BookDetails} />\r\n    </Switch>\r\n  </Router>\r\n);\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport store from './store';\nimport App from './App';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}